# 专项整理 米 笔试选择题 面经 整理牛客上面经 

https://www.nowcoder.com/discuss/393484739930337280

# 米哈游游戏客户端8.7笔试

笔试时间：2022年8月7日

# 1 单选

1）OSI七层模型中，在哪一层设置校验点，可以在通信失效后恢复通信？

**会话层**

会话层提供的服务可使应用建立和维持会话，并能使会话获得同步。会话层使用校验点可使通信会话在通信失效时从校验点继续恢复通信。这种能力对于传送大的文件极为重要。



2）线程的六种状态：就绪、备用、运行、等待、转换、终止（六种状态之间如何转换的）

- **就绪 (Ready)**：线程准备就绪，等待调度器分配CPU。
- **备用 (Standby)**：被选为下一个运行的线程（Windows特有），属于就绪状态的一种特殊形态。
- **运行 (Running)**：线程正在CPU上执行。
- **等待 (Waiting)**：线程主动等待某资源（如I/O完成、信号量）。
- **转换 (Transition)**：线程已满足执行条件，但资源尚未准备好（如等待内核对象）。
- **终止 (Terminated)**：线程执行完毕或被终止。

**状态转换**：

- 就绪 → 备用：被调度器选中为下一个运行线程。
- 备用 → 运行：当前线程让出CPU，备用线程开始执行。
- 运行 → 等待：主动等待资源（如调用`WaitForSingleObject`）。
- 等待 → 转换：资源可用，但需等待调度。
- 转换 → 就绪：资源完全就绪，重新进入就绪队列。
- 运行 → 终止：线程执行结束或异常终止。



3）多路复用技术（介质、信道什么的）

https://blog.csdn.net/m0_46204224/article/details/106062968

3）多路复用技术

多路复用技术用于共享通信介质或信道，提高资源利用率。常见方法：

1. **频分多路复用（FDM）**：不同信号占用不同频带（如广播、电视）。
2. **时分多路复用（TDM）**：信号分时占用信道（如传统电话网络）。
3. **波分多路复用（WDM）**：光通信中不同波长传输不同信号。
4. **码分多路复用（CDM）**：通过编码区分信号（如 CDMA 移动通信）。



4）多版本读的一致性问题（没听说过）

4）多版本读一致性（MVCC）

通过维护数据的多个版本实现并发控制：

- **读操作**：读取事务开始时的数据快照，不阻塞写操作。
- **写操作**：生成新版本，不影响正在读旧版本的事务。
- **优势**：避免脏读、不可重复读，提升并发性能。
- **应用**：PostgreSQL、MySQL的InnoDB引擎等。



5）FCB文件控制块中有哪些信息

- 文件名、大小、类型、创建/修改时间。
- 物理存储信息（如磁盘块指针）。
- 访问权限（读/写/执行）、所有者、组别。
- 文件状态标志（是否打开、锁定）。



6）char[]的strlen和sizeof

```c
char s[] = "123456\0abcdef"
strlen(s)  // 6  返回的是123456的长度，因为字符串从\0被截断了
sizeof(s)  // 14  返回的是数组的size，包括字符串最后没有显式表示的\0
```



7）

```c
int fun(int x, int y)
{
    static int t = 5;
    t += (++x) + y;
    return t;
}

int main()
{
    int x = 3;
    int y = 4;
    cout << fun(x, y) << x;
    cout << fun(x, y) << x;
    return 0;
}
```

13

21

*// 最终输出：133213*

### 7）代码分析

```
c复制代码int fun(int x, int y) {
    static int t = 5;  // 静态变量，只初始化一次
    t += (++x) + y;    // x先自增，再与y相加
    return t;
}

int main() {
    int x = 3, y = 4;
    cout << fun(x, y) << x;  // 输出：14 3
    cout << fun(x, y) << x;  // 输出：28 3
    return 0;
}
```

#### 执行过程：

1. 第一次调用

    

   ```
   fun(3, 4)
   ```

   ：

   - `++x` 将参数 `x` 变为 `4`（注意：`main` 的 `x` 仍是 `3`）。
   - `t = 5 + 4 + 4 = 13`，返回 `13`。
   - `cout` 输出 `13` 和 `main::x`（`3`），显示 `133`（题目描述可能有误）。

2. 第二次调用

    

   ```
   fun(3, 4)
   ```

   ：

   - `t` 保留上次的值 `13`。
   - `t = 13 + 4 + 4 = 21`，返回 `21`。
   - 输出 `213`。

   

# 2 多选

1）SQL语句

2）进线程区别

3）广播式网络特点

4）虚电路和数据报（分组交换）

5）加密与访问控制

6）磁盘调度与磁盘分配

作者：牛客86804196号
链接：https://www.nowcoder.com/discuss/393484739930337280
来源：牛客网





以下是针对多选题六个主题的详细知识点解析及可能的出题方向：

---

### **1）SQL语句**
#### **知识点**：
- **SQL分类**：
  - **DQL（数据查询）**：`SELECT`（含`WHERE`、`JOIN`、`GROUP BY`、`HAVING`）。
  - **DML（数据操作）**：`INSERT`、`UPDATE`、`DELETE`。
  - **DDL（数据定义）**：`CREATE TABLE`、`ALTER TABLE`、`DROP TABLE`。
  - **DCL（数据控制）**：`GRANT`、`REVOKE`。
- **关键语法**：
  - `JOIN`类型：`INNER JOIN`（默认）、`LEFT JOIN`、`RIGHT JOIN`。
  - 聚合函数：`COUNT()`、`SUM()`、`AVG()`需搭配`GROUP BY`使用。
  - 子查询：嵌套在`WHERE`或`FROM`中的查询。
  - 约束：`PRIMARY KEY`、`FOREIGN KEY`、`UNIQUE`、`CHECK`。

#### **可能出题**：
- **正确语法判断**：
  ```sql
  -- 正确：统计每个部门的员工数
  SELECT dept_id, COUNT(*) FROM employees GROUP BY dept_id;
  -- 错误：SELECT列表包含非聚合列且未分组
  SELECT dept_id, emp_name FROM employees GROUP BY dept_id;
  ```
- **功能匹配**：
  - 哪条语句可以删除表结构？`DROP TABLE`（非`DELETE`）。
  - 如何实现“查询工资高于部门平均工资的员工”？使用子查询：
    ```sql
    SELECT emp_name FROM employees e1 
    WHERE salary > (SELECT AVG(salary) FROM employees e2 WHERE e2.dept_id = e1.dept_id);
    ```

---

### **2）进线程区别**
#### **知识点**：
- **进程**：
  - **资源独立**：拥有独立内存空间（代码、数据、堆栈）。
  - **切换开销大**：需切换地址空间、寄存器、文件描述符等。
  - **通信复杂**：需通过IPC（管道、消息队列、共享内存）。
- **线程**：
  - **资源共享**：共享进程内存，独立栈和寄存器。
  - **切换开销小**：仅切换线程上下文。
  - **通信简单**：直接读写共享变量（需同步机制如锁）。

#### **可能出题**：
- **特征匹配**：
  - 正确描述线程的特点：共享进程资源、轻量级、切换快。
  - 错误选项：线程拥有独立地址空间（属于进程）。
- **场景选择**：
  - 高并发Web服务器更适合多线程（共享资源减少开销）。
  - 需要严格隔离的任务（如安全沙箱）用多进程。

---

### **3）广播式网络特点**
#### **知识点**：
- **核心特征**：
  - **共享介质**：所有节点通过同一信道通信（如以太网总线型拓扑）。
  - **广播发送**：数据包被所有节点接收，目标MAC地址匹配的节点处理。
  - **冲突处理**：采用CSMA/CD（载波监听冲突检测）避免冲突。
- **适用场景**：
  - 局域网（LAN），如早期以太网。
  - 不适用于大规模广域网（效率低）。

#### **可能出题**：
- **特征判断**：
  - 正确选项：使用共享介质、依赖MAC地址、需要冲突检测。
  - 错误选项：支持点对点直接通信（如PPP协议）、无冲突风险。
- **技术对比**：
  - 广播式网络 vs 交换式网络：后者通过交换机实现定向转发，避免广播风暴。

---

### **4）虚电路 vs 数据报（分组交换）**
#### **知识点**：
- **虚电路（面向连接）**：
  - **连接建立**：通信前需建立逻辑连接（如TCP三次握手）。
  - **有序传输**：分组按固定路径传输，保证顺序。
  - **可靠性**：适用于需要可靠性的场景（如文件传输）。
- **数据报（无连接）**：
  - **独立路由**：每个分组自主选择路径，可能乱序到达。
  - **高效灵活**：适合实时应用（如视频流、IP协议）。

#### **可能出题**：
- **特性匹配**：
  - 虚电路：有序、可靠、需建立连接。
  - 数据报：独立路由、无需连接、可能丢包。
- **协议举例**：
  - 虚电路：ATM网络、TCP（传输层）。
  - 数据报：IP协议（网络层）、UDP。

---

### **5）加密与访问控制**
#### **知识点**：
- **加密技术**：
  - **对称加密**：AES、DES，加密解密用同一密钥（速度快，适合大数据）。
  - **非对称加密**：RSA、ECC，公钥加密私钥解密（适合密钥交换）。
- **访问控制**：
  - **自主访问控制（DAC）**：用户自主授权（如UNIX文件权限）。
  - **强制访问控制（MAC）**：基于安全标签（如军事系统）。
  - **角色访问控制（RBAC）**：按角色分配权限（如企业系统）。

#### **可能出题**：
- **功能区分**：
  - 加密解决数据机密性，访问控制解决权限管理。
  - 错误选项：加密可以替代访问控制（两者互补，非替代）。
- **技术匹配**：
  - HTTPS使用非对称加密交换密钥，对称加密传输数据。
  - 文件系统的`rwx`权限属于DAC。

---

### **6）磁盘调度与磁盘分配**
#### **知识点**：
- **磁盘调度算法**：
  - **FCFS**：先来先服务，公平但效率低。
  - **SSTF**：最短寻道时间优先，可能饥饿。
  - **SCAN（电梯算法）**：单向移动处理请求，到末端返回。
  - **C-SCAN**：单向移动，返回时快速复位（更公平）。
- **磁盘分配策略**：
  - **连续分配**：文件占用连续块，访问快但易碎片化。
  - **链式分配**：文件分散存储，用指针链接（无碎片，速度慢）。
  - **索引分配**：通过索引块记录文件块位置（快速访问，支持大文件）。

#### **可能出题**：
- **算法特点**：
  - SCAN算法减少磁头移动，但响应时间不均匀。
  - C-SCAN对边缘请求更公平。
- **分配方式对比**：
  - 连续分配适合顺序访问，链式分配适合动态增长。
  - 索引分配需额外存储索引块（如UNIX inode）。

---

### **总结：多选题高频考点**
1. **SQL**：`JOIN`用法、聚合函数与`GROUP BY`的依赖关系。
2. **进线程**：资源共享、切换开销、通信方式差异。
3. **广播式网络**：共享介质、冲突检测（CSMA/CD）、MAC地址过滤。
4. **虚电路 vs 数据报**：连接导向、有序性、适用协议。
5. **加密与访问控制**：技术互补性（加密保护数据，访问控制管理权限）。
6. **磁盘调度与分配**：算法效率（如SCAN vs SSTF）、分配策略优缺点（碎片、速度）。

通过理解这些知识点，可以应对大多数多选题中的概念匹配、场景应用和技术对比类题目。



### **一、广播式网络特点**
---

#### **知识点详解**：
1. **核心定义**：
   - 广播式网络是一种所有节点共享同一通信信道（介质）的网络类型。数据发送时，所有节点都能接收到，但只有目标节点会处理数据。
   - **典型例子**：传统以太网（总线型拓扑）、Wi-Fi（无线广播）。

2. **关键特点**：
   - **共享介质**：所有设备通过同一物理信道（如电缆、无线频率）通信。
   - **广播发送**：数据包被发送到所有节点，目标节点通过地址（如MAC地址）识别是否处理。
   - **冲突检测**：采用**CSMA/CD**（载波监听多路访问/冲突检测）机制避免数据冲突。
     - 发送前监听信道是否空闲。
     - 如果检测到冲突（多个节点同时发送），停止发送并等待随机时间后重试。
   - **单播/组播**：虽然信道共享，但可以通过地址实现单播（一对一）或组播（一对多）。

3. **优缺点**：
   - **优点**：结构简单，成本低，适合小型局域网。
   - **缺点**：
     - **广播风暴**：大量广播包会导致网络拥堵。
     - **安全性低**：所有节点都能嗅探到数据（需加密解决）。
     - **扩展性差**：节点增多时冲突概率上升，效率下降。

4. **对比交换式网络**：
   - **交换式网络**（如现代以太网）通过交换机实现点对点通信，避免广播冲突。
   - **广播式网络**适合早期小型网络，交换式网络适合大规模、高并发场景。

---

#### **练习题**：
1. **多选题：广播式网络的核心特点包括？**
   A. 所有节点共享同一信道  
   B. 数据仅发送给目标节点  
   C. 需要冲突检测机制（如CSMA/CD）  
   D. 每个节点有独立通信链路  

   **答案**：A、C  
   **解析**：B错误，广播式网络发送给所有节点，但目标节点选择性处理；D是交换式网络的特点。

2. **判断题：在广播式网络中，数据包一定会被所有节点接收，因此无法实现单播通信。**  
   A. 正确  
   B. 错误  

   **答案**：B  
   **解析**：虽然数据包被所有节点接收，但通过目标地址（如MAC地址）可实现单播。

---

### **二、虚电路 vs 数据报（分组交换）**
---

#### **知识点详解**：
1. **分组交换的两种模式**：
   - **虚电路（Virtual Circuit, VC）**：
     - **面向连接**：通信前需建立逻辑连接（类似电话拨号）。
     - **路径固定**：所有分组沿同一路径传输，保证顺序。
     - **可靠性高**：适用于需要可靠传输的场景（如文件传输）。
     - **协议示例**：ATM网络、TCP（传输层）。
   - **数据报（Datagram）**：
     - **无连接**：无需预先建立连接，每个分组独立路由。
     - **路径灵活**：分组可能走不同路径，导致乱序到达。
     - **高效灵活**：适合实时应用（如视频流、语音通话）。
     - **协议示例**：IP协议（网络层）、UDP（传输层）。

2. **对比总结**：
   | **特性** | **虚电路**             | **数据报**         |
   | -------- | ---------------------- | ------------------ |
   | 连接建立 | 需要（逻辑连接）       | 不需要             |
   | 分组路径 | 固定                   | 可变               |
   | 传输顺序 | 有序                   | 可能乱序           |
   | 可靠性   | 高（有确认和重传机制） | 低（依赖上层协议） |
   | 适用场景 | 文件传输、可靠通信     | 实时通信、简单查询 |

3. **关键区别**：
   - **虚电路**：更适合长会话、大数据传输（如视频会议）。
   - **数据报**：适合短请求、高实时性（如DNS查询）。

---

#### **练习题**：
1. **单选题：以下哪项是虚电路的特点？**  
   A. 每个分组独立路由  
   B. 无需建立连接  
   C. 分组按序到达  
   D. 适合实时视频流  

   **答案**：C  
   **解析**：虚电路通过固定路径保证顺序，A和B是数据报的特点，D更适合数据报。

2. **多选题：数据报分组的优势包括？**  
   A. 传输路径固定  
   B. 无需连接建立开销  
   C. 适合高可靠性场景  
   D. 适合短请求  

   **答案**：B、D  
   **解析**：A是虚电路的特点，C是虚电路的优势。

---

### **三、磁盘分配策略**
---

#### **知识点详解**：
1. **磁盘分配方式**：
   - **连续分配**：
     - 文件占据连续的物理磁盘块。
     - **优点**：顺序访问速度快（磁头移动少）。
     - **缺点**：易产生外部碎片，文件扩展困难。
     - **例子**：早期文件系统（如DOS FAT16）。
   - **链式分配**：
     - 文件块分散存储，每个块包含指向下一块的指针。
     - **优点**：无外部碎片，文件动态扩展容易。
     - **缺点**：随机访问速度慢（需遍历链表）。
     - **例子**：FAT32文件系统。
   - **索引分配**：
     - 文件块地址存储在索引块中（类似目录）。
     - **优点**：支持快速随机访问，适合大文件。
     - **缺点**：索引块占用额外空间。
     - **例子**：UNIX的inode结构。

2. **磁盘调度算法**：
   - **FCFS（先来先服务）**：
     - 按请求顺序处理，公平但效率低。
   - **SSTF（最短寻道时间优先）**：
     - 优先处理离当前磁头最近的请求，可能饥饿边缘请求。
   - **SCAN（电梯算法）**：
     - 磁头单向移动处理请求，到末端后返回。
   - **C-SCAN**：
     - 单向移动处理请求，返回时快速复位（更公平）。

3. **对比总结**：
   | **分配方式** | **优点**                 | **缺点**         |
   | ------------ | ------------------------ | ---------------- |
   | 连续分配     | 顺序访问快               | 碎片问题，扩展难 |
   | 链式分配     | 无碎片，扩展灵活         | 随机访问慢       |
   | 索引分配     | 快速随机访问，支持大文件 | 索引块占用空间   |

---

#### **练习题**：
1. **单选题：哪种磁盘分配方式适合需要频繁扩展的文件？**  
   A. 连续分配  
   B. 链式分配  
   C. 索引分配  

   **答案**：B  
   **解析**：链式分配通过指针链接块，扩展灵活。

2. **多选题：SCAN调度算法的特点包括？**  
   A. 请求处理顺序与磁头移动方向无关  
   B. 磁头单向移动处理请求  
   C. 到末端后立即返回  
   D. 对边缘请求更公平  

   **答案**：B、D  
   **解析**：SCAN单向移动（B正确），C-SCAN在返回时快速复位（D更公平）。

---

### **总结**
通过以上知识点和练习题，可以深入理解：
- **广播式网络**：共享介质、冲突检测、适用场景。
- **虚电路 vs 数据报**：连接建立、路径固定性、可靠性差异。
- **磁盘分配**：连续/链式/索引分配的特点，调度算法（FCFS/SSTF/SCAN）的优劣。

进一步建议：结合具体协议（如TCP/IP）和文件系统（如FAT32、NTFS）实例加深理解！





### **1. 广播式网络特点详解**
#### **核心知识点**：
1. **定义**：  
   - 所有节点共享同一通信信道（如以太网、Wi-Fi），数据包会被所有节点接收，但只有目标节点处理。
   - **典型协议**：以太网（CSMA/CD）、Wi-Fi（CSMA/CA）。

2. **关键特点**：
   - **共享介质**：所有设备通过同一信道通信，可能发生冲突。
   - **广播传输**：数据包发送时，所有节点都能收到（通过MAC地址过滤）。
   - **冲突处理**：
     - **CSMA/CD**（载波监听多路访问/冲突检测）：用于有线以太网，检测到冲突后重发。
     - **CSMA/CA**（冲突避免）：用于无线网络，通过预约机制减少冲突。
   - **拓扑结构**：总线型（传统以太网）、星型（现代以太网通过交换机，但集线器仍广播）。

3. **对比点对点网络**：
   - 点对点（如PPP、HDLC）需要独立链路，不共享信道。

#### **可能出题**：
1. **单选题**：  
   广播式网络的典型协议是？  
   A. PPP  
   B. Ethernet  
   C. ATM  
   **答案**：B（Ethernet是典型的广播式网络协议）。

2. **多选题**：  
   广播式网络的特点包括？  
   A. 所有节点共享同一信道  
   B. 数据包通过MAC地址过滤  
   C. 需要建立专用连接  
   D. 使用CSMA/CD或CSMA/CA避免冲突  
   **答案**：A、B、D（C是点对点网络的特点）。

3. **判断题**：  
   在广播式网络中，交换机默认会广播所有数据包。（ ）  
   **答案**：×（交换机根据MAC地址转发，仅集线器广播）。

---

### **2. 虚电路（VC） vs 数据报（DG）详解**
#### **核心知识点**：
| **特性**     | **虚电路（VC）**               | **数据报（DG）**                   |
| ------------ | ------------------------------ | ---------------------------------- |
| **连接方式** | 面向连接（需建立连接）         | 无连接（直接发送）                 |
| **路由**     | 固定路径（类似电话线路）       | 独立路由（每个分组可能走不同路径） |
| **顺序保证** | 分组按序到达                   | 可能乱序                           |
| **可靠性**   | 高（类似TCP）                  | 低（类似UDP）                      |
| **适用场景** | 长时通信（视频会议、文件传输） | 短时通信（DNS查询、实时视频）      |
| **典型协议** | ATM、MPLS、X.25                | IP、UDP                            |

#### **可能出题**：
1. **单选题**：  
   以下哪种分组交换方式需要预先建立连接？  
   A. 数据报  
   B. 虚电路  
   **答案**：B（虚电路是面向连接的）。

2. **多选题**：  
   虚电路的特点包括？  
   A. 分组可能乱序  
   B. 路由固定  
   C. 适用于实时视频  
   D. 需建立连接  
   **答案**：B、D（A是数据报的特点，C更适合数据报）。

3. **场景题**：  
   某应用要求低延迟且允许少量丢包，应选择？  
   A. 虚电路  
   B. 数据报  
   **答案**：B（如UDP传输实时视频）。

---

### **3. 磁盘分配方式详解**
#### **核心知识点**：
1. **连续分配**：
   - **原理**：文件占用连续的磁盘块（如块2-5存储文件A）。
   - **优点**：访问速度快（只需一次寻道）。
   - **缺点**：易产生外部碎片，文件扩展困难。

2. **链式分配**：
   - **原理**：每个块包含指向下一块的指针（类似链表）。
   - **优点**：无外部碎片，支持动态扩展。
   - **缺点**：随机访问慢（需遍历指针），指针占用空间。

3. **索引分配**：
   - **原理**：集中存储所有块的指针（索引块）。
   - **优点**：平衡速度与灵活性，支持随机访问。
   - **缺点**：索引块可能成为瓶颈（大文件需多级索引）。

#### **可能出题**：
1. **单选题**：  
   哪种磁盘分配方式会产生外部碎片？  
   A. 连续分配  
   B. 链式分配  
   C. 索引分配  
   **答案**：A。

2. **多选题**：  
   索引分配的特点包括？  
   A. 支持快速随机访问  
   B. 无外部碎片  
   C. 需要额外存储索引块  
   D. 适合小文件存储  
   **答案**：A、B、C（D更适合链式分配）。

3. **判断题**：  
   链式分配中，删除文件只需释放数据块，无需处理指针。（ ）  
   **答案**：×（需更新指针以维护链表结构）。

---

### **总结**
- **广播式网络**：共享信道、冲突处理、典型协议（以太网）。
- **虚电路 vs 数据报**：连接方式、可靠性、应用场景（TCP-like vs UDP-like）。
- **磁盘分配**：连续（速度vs碎片）、链式（灵活vs慢）、索引（平衡但复杂）。

