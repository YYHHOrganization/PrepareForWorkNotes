# 等比数列求和：幂次和公式详解

## 问题描述
计算等比数列的和：
$$
S = 3^0 + 3^1 + 3^2 + \cdots + 3^{k-1}
$$

## 解答
该数列的和为：
$$
S = \frac{3^k - 1}{2}
$$

### 推导过程
这是一个首项 $a_1=1$，公比 $r=3$，项数 $n=k$ 的等比数列。

等比数列求和公式：
$$
S_n = a_1 \frac{r^n - 1}{r - 1}
$$

代入参数：
$$
S = 1 \cdot \frac{3^k - 1}{3 - 1} = \frac{3^k - 1}{2}
$$

---

### 实例验证
1. **当 k=1**：
   $$
   S = 3^0 = 1
   $$
   公式计算：
   $$
   \frac{3^1 - 1}{2} = \frac{2}{2} = 1
   $$

2. **当 k=2**：
   $$
   S = 3^0 + 3^1 = 1 + 3 = 4
   $$
   公式计算：
   $$
   \frac{3^2 - 1}{2} = \frac{9 - 1}{2} = 4
   $$

3. **当 k=3**：
   $$
   S = 1 + 3 + 9 = 13
   $$
   公式计算：
   $$
   \frac{3^3 - 1}{2} = \frac{27 - 1}{2} = 13
   $$

4. **当 k=4**：
   $$
   S = 1 + 3 + 9 + 27 = 40
   $$
   公式计算：
   $$
   \frac{3^4 - 1}{2} = \frac{81 - 1}{2} = 40
   $$

---

### 数学原理
等比数列求和公式的推导基于错位相减法：
1. 写出和式：
   $$
   S = 1 + 3 + 3^2 + \cdots + 3^{k-1} \quad (1)
   $$
2. 两边同乘公比 3：
   $$
   3S = 3 + 3^2 + 3^3 + \cdots + 3^k \quad (2)
   $$
3. 用 (1) 式减 (2) 式：
   $$
   S - 3S = 1 - 3^k
   $$
4. 解得：
   $$
   -2S = 1 - 3^k \quad \Rightarrow \quad S = \frac{3^k - 1}{2}
   $$

---

### 几何意义
```mermaid
graph LR
    A[首项 3⁰=1] --> B[公比 r=3]
    B --> C[项数 k]
    C --> D[和 S=(3ᵏ-1)/2]
```

这个和可以理解为：
- 在平衡三进制系统中，由 $k$ 位数字 $1$ 组成的数：$111\cdots1_{(3)}$
- 其十进制值为：
  $$
  \frac{3^k - 1}{3 - 1} = \frac{3^k - 1}{2}
  $$

---

### 应用场景
1. **信息论**：$k$ 位三进制数能表示的最大整数值
2. **计算机科学**：完全三叉树的节点总数（高度 $k$）
   ```
   高度 k 的完全三叉树：
     根节点 (3⁰) + 第一层 (3¹) + ... + 叶节点 (3^{k-1})
   ```
3. **组合数学**：划分问题中的最大分组能力

---

### 总结
$$
\boxed{3^0 + 3^1 + \cdots + 3^{k-1} = \dfrac{3^k - 1}{2}}
$$
这个结果展示了等比数列求和的强大工具性，通过公式我们可以快速计算任意项数的幂次和，无需逐项相加。