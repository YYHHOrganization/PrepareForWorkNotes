# Leetcodeâ€”â€”æ•°å­¦ç¯‡é›†åˆ

# ä¸€ã€å–æ¨¡è¿ç®—åŸºç¡€

é¦–å…ˆï¼Œå…ˆçœ‹ä¸€ä¸‹è¿™ç¯‡ï¼š[åˆ†äº«ä¸¨æ¨¡è¿ç®—çš„ä¸–ç•Œï¼šå½“åŠ å‡ä¹˜é™¤é‡ä¸Šå–æ¨¡ï¼ˆæ¨¡è¿ç®—æ’ç­‰å¼/è´¹é©¬å°å®šç†/ç»„åˆæ•°ï¼‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/circle/discuss/mDfnkW/)

è¿™é‡Œåˆ—ä¸¾ä¸€ä¸‹å­¦ä¹ è¿™ç¯‡æ–‡ç« çš„æ—¶å€™åˆ·çš„é¢˜ç›®å’Œå…³é”®çš„çŸ¥è¯†ç‚¹ã€‚



**å‰è¨€**
æŸäº›é¢˜ç›®ï¼Œç”±äºè¦è®¡ç®—çš„ç­”æ¡ˆéå¸¸å¤§ï¼ˆè¶…å‡º 64 ä½æ•´æ•°çš„èŒƒå›´ï¼‰ï¼Œä¼šè¦æ±‚æŠŠç­”æ¡ˆå¯¹ 10 ^9 +7 å–æ¨¡ã€‚å¦‚æœæ²¡æœ‰å¤„ç†å¾—å½“çš„è¯ï¼Œ**ä¼š WAï¼ˆé”™è¯¯ï¼‰æˆ–è€… TLEï¼ˆè¶…æ—¶ï¼‰**ã€‚

ä¾‹å¦‚è®¡ç®—ä¸€å †æ•°å­—çš„ä¹˜ç§¯ï¼Œå¦‚æœæ²¡æœ‰åŠæ—¶å–æ¨¡ï¼Œä¹˜æ³•ä¼š**æº¢å‡º**ï¼ˆä¾‹å¦‚è®¡ç®—ç»“æœè¶…å‡º C++ ä¸­ long long çš„æœ€å¤§å€¼ï¼‰ï¼Œä»è€Œå¾—åˆ°**å’Œé¢„æœŸä¸ç¬¦çš„ç­”æ¡ˆ**ï¼ˆå› æ­¤å¦‚æœ**WAï¼ˆç­”æ¡ˆé”™è¯¯ï¼‰**æ˜¯æœ‰å¯èƒ½å› ä¸ºè¶…å‡ºèŒƒå›´å¯¼è‡´çš„ï¼‰ã€‚å¯¹äº Python æ¥è¯´ï¼Œè™½ç„¶æ²¡æœ‰æº¢å‡ºçš„é—®é¢˜ï¼Œä½†å¤§æ•´æ•°ï¼ˆbig integerï¼‰ä¹‹é—´çš„è¿ç®—å¹¶ä¸æ˜¯ O(1) çš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´ TLEã€‚



å¦‚ä½•æ­£ç¡®åœ°å–æ¨¡å‘¢ï¼Ÿ

## 1.åŸºæœ¬å–ä½™è¿ç®—

å¦‚æœæ•°éå¸¸å¤§çš„æ—¶å€™ï¼Œå¾€å¾€è¦å¯¹ç»“æœå–ä½™ï¼Œå¯¹äºåŠ æ³•å’Œä¹˜æ³•ï¼Œæœ‰å¦‚ä¸‹è§„å¾‹ï¼š
$$
(a+b)\,\mathrm{mod}\, m=((a\,\mathrm{mod}\,m)+(b\,\mathrm{mod}\,m))\mathrm{mod}\,m \\(a\cdot b)\,\mathrm{mod}\,m=((a\,\mathrm{mod}\,m)\cdot(b\,\mathrm{mod}\,m))\mathrm{mod}\,m
$$


æ³¨æ„ï¼Œå¦‚æœæ¶‰åŠåˆ°å¹‚è¿ç®—ï¼ŒæŒ‡æ•°æ˜¯ä¸èƒ½éšæ„å–æ¨¡çš„ã€‚å¦‚æœæŒ‡æ•°åœ¨ 64 ä½æ•´æ•°çš„èŒƒå›´å†…ï¼Œå¯ä»¥ç”¨**å¿«é€Ÿå¹‚**è®¡ç®—ã€‚å¦‚æœæŒ‡æ•°è¶…å‡º 64 ä½æ•´æ•°çš„èŒƒå›´ï¼Œå¯ä»¥ä½¿ç”¨**æ¬§æ‹‰é™å¹‚å…¬å¼**ã€‚ä»¥ä¸‹è¿›è¡Œæ€»ç»“ã€‚

> åŒä½™å®šç†ï¼š[åŒä½™ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦](https://zh.wikipedia.org/wiki/åŒé¤˜)



### ï¼ˆ1ï¼‰å¿«é€Ÿå¹‚è®¡ç®—

ç»å…¸é¢˜ç›®ï¼š[50. Pow(x, n) - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/powx-n/)

> ä¸‹é¢é¢˜è§£ä¸­çš„Powerå‡½æ•°å³ä¸ºå¿«é€Ÿå¹‚çš„æ¿å­ï¼Œéœ€è¦è®°ä¸‹æ¥ã€‚
>
> <img src="assets/1728623430-RNGDEK-lc50-3-c-1745305380878-1.png" alt="lc50-3-c.png" style="zoom: 17%;" />

```c++
class Solution {
public:
    double Power(double x, long long n)
    {
        //å¿«é€Ÿå¹‚
        double res = 1.0;
        while(n) // ä»ä½åˆ°é«˜æšä¸¾ n çš„æ¯ä¸ªæ¯”ç‰¹ä½
        {
            if(n&1) // è¿™ä¸ªæ¯”ç‰¹ä½æ˜¯ 1
            {
                res*=x;// æŠŠ x ä¹˜åˆ° ans ä¸­
            }
            x*=x;// x è‡ªèº«å¹³æ–¹
            n>>=1;// ç»§ç»­æšä¸¾ä¸‹ä¸€ä¸ªæ¯”ç‰¹ä½
        }
        return res;
    }
    double myPow(double x, int n) {
        if(x<=1e-6 && x>=-1e-6) return 0; //æ­¤æ—¶è®¤ä¸ºx=0  ï¼ˆè¿™é¢˜ä¹Ÿå¯ä»¥ä¸éœ€è¦è¿™å¥è¯ï¼‰
        long long p = n; //å¦‚æœä¸æ˜¯llï¼Œn=-2147483648çš„æ—¶å€™ ï¼Œp=-p ä¼šæº¢å‡º
        if(p==0) return 1;
        if(p<0)
        {
            p = -p;
            x = 1.0 / x;
        }
        return Power(x, p);
    }
};
```



### ï¼ˆ2ï¼‰[372. è¶…çº§æ¬¡æ–¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/super-pow/description/)

é¦–å…ˆæˆ‘ä»¬å…ˆåˆ©ç”¨å¿«é€Ÿå¹‚çš„æ€æƒ³+ä»£ç å†åšä¸€ä¸‹è¿™é“é¢˜ç›®ï¼š[372. è¶…çº§æ¬¡æ–¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/super-pow/description/)ï¼Œä»¥ä¸‹ç»™å‡ºå¿«é€Ÿå¹‚çš„åšæ³•ä»£ç ï¼š

<img src="assets/image-20250422154459127.png" alt="image-20250422154459127" style="zoom: 80%;" />

```c++
class Solution {
public:
    const int MOD = 1337;
    int Pow(int x, int n)
    {
        //åœ¨å¿«é€Ÿå¹‚çš„æ—¶å€™æ±‚MOD
        long long res = 1.0;
        while(n)
        {
            if(n&1) res = (res%MOD) * (x%MOD)%MOD ;
            x = (x%MOD) * (x%MOD) %MOD;
            n>>=1;
        }
        return res;
    }
    int superPow(int a, vector<int>& b) {
        long long res = 1;
        for(int i = b.size()-1;i>=0;i--)
        {
            res = (res %MOD * Pow(a, b[i])%MOD)%MOD;
            a = Pow(a, 10);
        }
        return res;
    }
};
```

å°‘åŠ ä¸€äº›MOD:

```C++
class Solution {
public:
    const int MOD = 1337;
    int Power(int x,long long n)
    {
        int ans=1;
        while(n)
        {
            if(n&1)
            {
                ans =((long long)ans* x)%MOD;
            }
            x=((long long)x*x)%MOD;
            n>>=1;
        }
        return ans;
    }
    int superPow(int a, vector<int>& b) {
        // 10
        // a^(b1*1000 + b2*100 + b3*10 +b4)
        //a^(b1*1000) * a^(b2*100) * a^(b3*10) * a^(b4)
        //åŠ ä¸Šå–æ¨¡ï¼ša^(b1*1000)%MOD * a^(b2*100)%MOD * a^(b3*10)%MOD * a^(b4)%MOD
        //a^(b1*1000) = (a^1000)^b1
        int bn = b.size();
        int ans=1;
        for(int i=bn-1;i>=0;i--)
        {
            ans = (long long)ans * Power(a,b[i]) %MOD;
            a = Power(a,10);
        }
        return ans;
    }
};
```



**æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä»‹ç»æ¬§æ‹‰é™å¹‚å…¬å¼ã€‚**==è¿™ä¸ªæœ‰ç©ºå†çœ‹å§ï¼Œä¼°è®¡è®°ä¸ä½==ï¼Œç»™ä¸€ä¸ªå‚è€ƒé“¾æ¥ï¼š

> [ã€åŠ›æ‰£Â·æ¯æ—¥ä¸€é¢˜ã€‘372. è¶…çº§æ¬¡æ–¹(æ¬§æ‹‰é™å¹‚ å¿«é€Ÿå¹‚)_mb62cff40cc1a13çš„æŠ€æœ¯åšå®¢_51CTOåšå®¢](https://blog.51cto.com/u_15718710/5473326)



### ï¼ˆ3ï¼‰åŒä½™

é¦–å…ˆå¼•å…¥åŒä½™ï¼ˆcongruence moduloï¼‰çš„æ¦‚å¿µã€‚

ä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œå¦‚æœ $(x-y)\,mod\,m==0$ ï¼Œåˆ™ç§° x ä¸ y å…³äºæ¨¡ m åŒä½™ï¼Œè®°ä½œ  $x \equiv y \pmod{m}$  

>ä¸‰æ¡çº¿å¼ºè°ƒâ€œæ¨¡æ„ä¹‰ä¸‹çš„ç­‰ä»·å…³ç³»â€ , å¼ºè°ƒ \( x \) å’Œ \( y \) åœ¨æ¨¡ \( m \) æ„ä¹‰ä¸‹å±äºåŒä¸€ç­‰ä»·ç±»
>
>å…¶å®ä¹Ÿå°±æ˜¯ $x\,mod\,m==y\,mod\,m$

æ³¨æ„ï¼š(a%m - b%m != (a-b)%m) ! åä¾‹ï¼š` m=3 a=6 b=2`

> åªæœ‰åœ¨a%m - b%m == (a-b)%m == 0çš„æ—¶å€™æ‰æ˜¯æˆç«‹çš„ï¼Œå³ä¸ºåŒä½™å®šç†ã€‚



## 2.å–ä½™è¿ç®—è¿›é˜¶

### ï¼ˆ1ï¼‰è´Ÿæ•°æƒ…å†µçš„å¤„ç†

å¦‚æœè®¡ç®—è¿‡ç¨‹ä¸­æœ‰å‡æ³•ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè´Ÿæ•°ï¼Œå–ä½™è¿ç®—æ—¶å¤„ç†ä¸å½“ä¹Ÿä¼šå¯¼è‡´ WAã€‚å¦‚ä½•æ­£ç¡®å¤„ç†è¿™ç§æƒ…å†µå‘¢ï¼Ÿ

å¦‚æœå‘ç°**åŠ æ³•å–ä½™çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°è´Ÿæ•°ï¼ˆ$x\,mod\,m<0$ï¼‰ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å¼å­ï¼š**
$$
(x\,mod\,m + m)\,mod\,m
$$
è¿™æ ·æ— è®º$x$æ˜¯å¦ä¸ºè´Ÿæ•°ï¼Œè¿ç®—ç»“æœéƒ½ä¼šè½åœ¨åŒºé—´ `[0,mâˆ’1] `ä¸­ã€‚



mï¼šåœ¨C++ä¸­ï¼Œå¯¹è´Ÿæ•°å–æ¨¡æˆ‘ä»¬æ¨èè¿™ä¹ˆå†™ï¼š

```C++
// è°ƒæ•´ x çš„ä½™æ•°ä¸ºéè´Ÿæ•°ï¼Œå†ä¸ y çš„ä½™æ•°æ¯”è¾ƒ
((x % m + m) % m) == (y % m)
```



### ï¼ˆ2ï¼‰é™¤æ³•çš„å¤„ç†

çœ‹è¿™ç¯‡ï¼š[åˆ†äº«ä¸¨æ¨¡è¿ç®—çš„ä¸–ç•Œï¼šå½“åŠ å‡ä¹˜é™¤é‡ä¸Šå–æ¨¡ï¼ˆæ¨¡è¿ç®—æ’ç­‰å¼/è´¹é©¬å°å®šç†/ç»„åˆæ•°ï¼‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/circle/discuss/mDfnkW/)ä¸­çš„é™¤æ³•å–æ¨¡éƒ¨åˆ†ï¼Œå†™çš„å¾ˆå¥½ã€‚



å…ˆè¯´ç»“è®ºï¼Œå¦‚æœ$p$æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œ$a$æ˜¯$b$çš„å€æ•°ä¸”$b$å’Œ$p$äº’è´¨$(b$ä¸æ˜¯$p$çš„å€æ•°),é‚£ä¹ˆæœ‰

$$
\large \frac ab\bmod p=(a\cdot b^{p-2})\bmod p
$$
ä¸Šå¼ä¸­$a$å’Œ$b$å¯ä»¥æ˜¯å¾ˆå¤§çš„æ•°ï¼Œä¾‹å¦‚$a=100!,b=50!50!$ ã€‚

ç”±äº$10^9+7$æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œæ‰€ä»¥ä¸Šå¼å¯ç”¨äºè¦æ±‚å¯¹$10^9+7$å–æ¨¡çš„é¢˜ç›®ã€‚å¦‚æœæ¨å¯¼å‡ºäº†åŒ…å«é™¤æ³•çš„å¼å­ï¼Œå¯ä»¥ç”¨ä¸Šå¼è½¬æ¢æˆä¹˜æ³•ï¼Œ
å¹¶ç”¨å¿«é€Ÿå¹‚è®¡ç®— $b^{p-2}$ mod $p$ã€‚



## 3.æ€»ç»“

```c++
MOD = 1_000_000_007

// åŠ 
(a + b) % MOD

// å‡
((a - b)%MOD + MOD) % MOD  //è¿™ä¸ªåº”è¯¥ä¼šæ¯”è¾ƒç¨³å¦¥ä¸€äº›

// æŠŠä»»æ„æ•´æ•° a å–æ¨¡åˆ° [0,MOD-1] ä¸­ï¼Œæ— è®º a æ˜¯æ­£æ˜¯è´Ÿ
(a % MOD + MOD) % MOD

// ä¹˜ï¼ˆæ³¨æ„ä½¿ç”¨ 64 ä½æ•´æ•°ï¼‰long long
a * b % MOD

// å¤šä¸ªæ•°ç›¸ä¹˜ï¼Œè¦æ­¥æ­¥å–æ¨¡ï¼Œé˜²æ­¢æº¢å‡º
a * b % MOD * c % MOD

// é™¤ï¼ˆMOD æ˜¯è´¨æ•°ä¸” b ä¸æ˜¯ MOD çš„å€æ•°ï¼‰
a * qpow(b, MOD - 2, MOD) % MOD
```

å…¶ä¸­qpow ä¸º**å¿«é€Ÿå¹‚**ç®—æ³•ã€‚



å®¹æ˜“é‡åˆ°çš„å‘ï¼š

kæ˜¯ä»»ä½•æ•°å­—ï¼Œi>0,ä»¥ä¸‹æœ‰ä»€ä¹ˆé—®é¢˜

```C++
(i-k+26)%26+26  
```

ä¸Šé¢è¿˜æ˜¯å¯èƒ½æ˜¯è´Ÿæ•°æˆ–è€…è¶…è¿‡26

å…¶å®åº”è¯¥æ˜¯:

```C++
((i-k)%26+26)%26
```



## è¡¥å……ï¼šç»„åˆæ•°æ¿å­

<img src="assets/image-20250422161618999.png" alt="image-20250422161618999" style="zoom: 67%;" />

çœ‹ä¸€ä¸‹è¿™é“é¢˜ç›®ï¼š[62. ä¸åŒè·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/unique-paths/description/)ã€‚

é¢˜è§£ï¼š**https://leetcode.cn/problems/unique-paths/solutions/3062432/liang-chong-fang-fa-dong-tai-gui-hua-zu-o5k32/**

ä¸€ç§åšæ³•æ˜¯ä½¿ç”¨dpï¼Œä½†è¿™é‡Œæˆ‘ä»¬å…³æ³¨ç»„åˆæ•°çš„æ–¹æ³•ã€‚æ¿å­å¦‚ä¸‹ï¼š

```c++
const int MOD = 1'000'000'007;
const int MX = 100'001; // æ ¹æ®é¢˜ç›®æ•°æ®èŒƒå›´ä¿®æ”¹

long long F[MX]; // F[i] = i!
long long INV_F[MX]; // INV_F[i] = i!^-1

long long pow(long long x, int n) {
    long long res = 1;
    for (; n; n /= 2) {
        if (n % 2) {
            res = res * x % MOD;
        }
        x = x * x % MOD;
    }
    return res;
}

auto init = [] {
    F[0] = 1;
    for (int i = 1; i < MX; i++) {
        F[i] = F[i - 1] * i % MOD;
    }

    INV_F[MX - 1] = pow(F[MX - 1], MOD - 2); // â‘  ğŸ‘‡
    for (int i = MX - 1; i; i--) {
        INV_F[i - 1] = INV_F[i] * i % MOD; //â‘¡
    }
    return 0;
}();

// ä» n ä¸ªæ•°ä¸­é€‰ m ä¸ªæ•°çš„æ–¹æ¡ˆæ•°
long long comb(int n, int m) {
    return m < 0 || m > n ? 0 : F[n] * INV_F[m] % MOD * INV_F[n - m] % MOD;
}

class Solution {
public:
    int solve(vector<int>& nums) {
        // é¢„å¤„ç†çš„é€»è¾‘å†™åœ¨ class å¤–é¢ï¼Œè¿™æ ·åªä¼šåˆå§‹åŒ–ä¸€æ¬¡
    }
};
```

>â‘ 
>$$
>\large \frac 1{(m!)}\bmod p=(1\cdot {(m!)}^{p-2})\bmod p
>$$
>
>â‘¡
>$$
>\large \frac 1{(m-1)!} = \large \frac m{(m)!}
>$$



æ”¾åˆ°è¿™é“é¢˜é‡Œï¼Œæˆ‘ä»¬ä¸éœ€è¦é‚£ä¹ˆå¤§çš„æ•°å€¼èŒƒå›´ï¼Œå¯ä»¥ç®€åŒ–ä¸º[C++ç»„åˆæ•°çš„è®¡ç®—(3ç§æ–¹æ³•å®ç°)_c++æ±‚ç»„åˆæ•°-CSDNåšå®¢](https://blog.csdn.net/m0_37149062/article/details/122522676)è¿™ä¸ªé“¾æ¥é‡Œé¢çš„åšæ³•ï¼ˆè¾¹ä¹˜è¾¹é™¤ï¼Œæ¨å¯¼ç•¥ï¼‰ã€‚æ­¤æ—¶è¿™é“é¢˜å°±å¯ä»¥ç§’æ€äº†ï¼ˆæ„Ÿè§‰è®°ä¸€ä¸‹è¿™ç§æ±‚ç»„åˆæ•°çš„æ–¹æ³•å¹³æ—¶å¯èƒ½å¤Ÿç”¨äº†ï¼‰ï¼š

![image-20250422164238652](assets/image-20250422164238652.png)

```c++
class Solution {
public:
    typedef long long ll;
    ll C(int n,int m)
    {
      ll res=1;
      for(int i=1;i<=m;i++)
      {
        res = res * (n-m+i)/i;// æ³¨æ„ä¸€å®šè¦å…ˆä¹˜å†é™¤//res*((n-m+i)/i)âŒï¼šä¼šå‡ºç°æµ®ç‚¹æ•°ï¼Œä¸å¯ä»¥åŠ æ‹¬å·
      }  
      return res;
    }
    int uniquePaths(int m, int n) {
        //C(m+n-2, m-1);
        return C(m+n-2, m-1);
    }
};
```



## è¡¥å……é¢˜ç›®

ã€1ã€‘[3379. è½¬æ¢æ•°ç»„](https://leetcode.cn/problems/transformed-array/)ï¼š

ã€2ã€‘[2961. åŒæ¨¡å¹‚è¿ç®—](https://leetcode.cn/problems/double-modular-exponentiation/)

ã€3ã€‘[2550. çŒ´å­ç¢°æ’çš„æ–¹æ³•æ•°](https://leetcode.cn/problems/count-collisions-of-monkeys-on-a-polygon/)

- è¿™é¢˜æœ‰ä¸ªå‘äººæƒ…å†µï¼Œéœ€è¦æ³¨æ„ï¼ˆæ³¨æ„å¯èƒ½ä¼šå‡ºç°è´Ÿæ•°çš„æƒ…å†µï¼‰



### [3379. è½¬æ¢æ•°ç»„](https://leetcode.cn/problems/transformed-array/)

>é¢˜ç›®æ„æ€æ˜¯ï¼š nums[i] =k è¡¨ç¤ºç§»åŠ¨kï¼Œæ‰¾åˆ° nums[i+k]ï¼ˆå¾ªç¯ï¼‰, æ”¾å…¥resæ•°ç»„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¾ªç¯æ•°ç»„ã€‚è¯·ä½ éµå¾ªä»¥ä¸‹è§„åˆ™åˆ›å»ºä¸€ä¸ªå¤§å° **ç›¸åŒ** çš„æ–°æ•°ç»„ `result` ï¼š

å¯¹äºæ¯ä¸ªä¸‹æ ‡ `i`ï¼ˆå…¶ä¸­ `0 <= i < nums.length`ï¼‰ï¼Œç‹¬ç«‹æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- å¦‚æœ `nums[i] > 0`ï¼šä»ä¸‹æ ‡ `i` å¼€å§‹ï¼Œå‘ **å³** ç§»åŠ¨ `nums[i]` æ­¥ï¼Œåœ¨å¾ªç¯æ•°ç»„ä¸­è½è„šçš„ä¸‹æ ‡å¯¹åº”çš„å€¼èµ‹ç»™ `result[i]`ã€‚
- å¦‚æœ `nums[i] < 0`ï¼šä»ä¸‹æ ‡ `i` å¼€å§‹ï¼Œå‘ **å·¦** ç§»åŠ¨ `abs(nums[i])` æ­¥ï¼Œåœ¨å¾ªç¯æ•°ç»„ä¸­è½è„šçš„ä¸‹æ ‡å¯¹åº”çš„å€¼èµ‹ç»™ `result[i]`ã€‚
- å¦‚æœ `nums[i] == 0`ï¼šå°† `nums[i]` çš„å€¼èµ‹ç»™ `result[i]`ã€‚

è¿”å›æ–°æ•°ç»„ `result`ã€‚

**æ³¨æ„ï¼š**ç”±äº `nums` æ˜¯å¾ªç¯æ•°ç»„ï¼Œå‘å³ç§»åŠ¨è¶…è¿‡æœ€åä¸€ä¸ªå…ƒç´ æ—¶å°†å›åˆ°å¼€å¤´ï¼Œå‘å·¦ç§»åŠ¨è¶…è¿‡ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶å°†å›åˆ°æœ«å°¾ã€‚

**ç¤ºä¾‹ 1ï¼š**

**è¾“å…¥ï¼š** nums = [3,-2,1,1]

**è¾“å‡ºï¼š** [1,1,1,3]

**è§£é‡Šï¼š**

- å¯¹äº `nums[0]` ç­‰äº 3ï¼Œå‘å³ç§»åŠ¨ 3 æ­¥åˆ° `nums[3]`ï¼Œå› æ­¤ `result[0]` ä¸º 1ã€‚
- å¯¹äº `nums[1]` ç­‰äº -2ï¼Œå‘å·¦ç§»åŠ¨ 2 æ­¥åˆ° `nums[3]`ï¼Œå› æ­¤ `result[1]` ä¸º 1ã€‚
- å¯¹äº `nums[2]` ç­‰äº 1ï¼Œå‘å³ç§»åŠ¨ 1 æ­¥åˆ° `nums[3]`ï¼Œå› æ­¤ `result[2]` ä¸º 1ã€‚
- å¯¹äº `nums[3]` ç­‰äº 1ï¼Œå‘å³ç§»åŠ¨ 1 æ­¥åˆ° `nums[0]`ï¼Œå› æ­¤ `result[3]` ä¸º 3ã€‚

```C++
class Solution {
public:
    //  3 -2 1 1
    //  1  1 1 3
    vector<int> constructTransformedArray(vector<int>& nums) {
        int n = nums.size();
        vector<int> res(n,0);
        for(int i=0;i<n;i++)
        {
            res[i] = nums[((i+nums[i])%n+n)%n];
        }
        return res;
    }
};
```



# äºŒã€æ•°è®º

## 1.åˆ¤æ–­è´¨æ•°

### ï¼ˆ1ï¼‰æ¿å­ç›¸å…³

å…ˆæ¥å†™ä¸€ä¸ªåŸºç¡€çš„åˆ¤æ–­è´¨æ•°çš„å‡½æ•°ï¼š

```c++
bool isPrime(int n)
{
    for(int i=2;i<=sqrt(n);i++) //æˆ–è€…å†™i*i<=nä¹Ÿå¯ä»¥
    {
        if(n%i==0) return false;
    }
    return n>=2;
}
```

![image-20250423193637917](assets/image-20250423193637917.png)

æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ç´ æ•°ç­›æ¥æ”¹å–„ä¸€ä¸‹ï¼Œä»¥ä¸‹æ˜¯æœ¬é¢˜çš„æ ¸å¿ƒä»£ç ï¼š

![image-20250121213033029](Leetcode%E2%80%94%E2%80%94%E6%95%B0%E5%AD%A6%E7%AF%87%E9%9B%86%E5%90%88.assets/image-20250121213033029.png)

```c++
vector<int> primes;
void init()
{
    isPrime.resize(MAX+1,1);
    isPrime[0]=0;
    isPrime[1]=0;
    for(int i=2;i<=MAX;i++)
    {
        if(isPrime[i])
        {
            primes.push_back(i); //åŒæ—¶ï¼Œè¿™ä¸ªé€»è¾‘è¿˜å¯ä»¥åˆ¤æ–­è´¨æ•°
            for(int j=i;j<=MAX/i;j++)  //è¿™æ ·åšæ˜¯ä¸ºäº†é˜²æ­¢æº¢å‡º
                isPrime[i*j]=0; //ç›¸å½“äºè¿™äº›éƒ½ä¸æ˜¯è´¨æ•°
        }  
    }
}
```



### ï¼ˆ2ï¼‰[3115. è´¨æ•°çš„æœ€å¤§è·ç¦» - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/maximum-prime-difference/description/)

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ã€‚
>
> è¿”å›ä¸¤ä¸ªï¼ˆä¸ä¸€å®šä¸åŒçš„ï¼‰è´¨æ•°åœ¨ `nums` ä¸­ **ä¸‹æ ‡** çš„ **æœ€å¤§è·ç¦»**ã€‚

æœ¬é¢˜ä½¿ç”¨è´¨æ•°ç­›ä¼šæ¯”è¾ƒå®¹æ˜“ä¸€äº›ã€‚

```c++
//é¢„è®¡ç®—æ‰€æœ‰çš„è´¨æ•°
int MAXN = 105;
vector<int> isPrime(MAXN+1, 1);
//[] { ... }();  // å®šä¹‰å¹¶ç«‹å³æ‰§è¡Œ
auto init = []  
{
    isPrime[0] = 0;
    isPrime[1] = 0;
    for(int i=2;i<=MAXN;i++) //ä½¿ç”¨ç´ æ•°ç­›
    {
        if(isPrime[i])
        {
            for(int j=i;j<=MAXN/i;j++) //é˜²æ­¢æº¢å‡º,æœ¬æ¥jä»i^2å¼€å§‹éå†,ç°åœ¨åŒæ—¶é™¤ä»¥i
            {
                isPrime[i*j] = 0;
            }
        }
    }
    return 0;
}();
class Solution {
public:
    int maximumPrimeDifference(vector<int>& nums) {
        //ä»å·¦åˆ°å³æ‰¾ç¬¬ä¸€ä¸ªè´¨æ•°,ä»å³åˆ°å·¦æ‰¾ç¬¬ä¸€ä¸ªè´¨æ•°å³å¯
        int n = nums.size();
        int left = 0, right = n - 1;
        while (!isPrime[nums[left]]) left++; //é¢˜ç›®ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªè´¨æ•°
        while(!isPrime[nums[right]]) right--;
        return right - left;
    }
};
```



### ï¼ˆ2ï¼‰[2614. å¯¹è§’çº¿ä¸Šçš„è´¨æ•°](https://leetcode.cn/problems/prime-in-diagonal/)

> ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **0** å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ `nums` ã€‚
>
> è¿”å›ä½äº `nums` è‡³å°‘ä¸€æ¡ **å¯¹è§’çº¿** ä¸Šçš„æœ€å¤§ **è´¨æ•°** ã€‚å¦‚æœä»»ä¸€å¯¹è§’çº¿ä¸Šå‡ä¸å­˜åœ¨è´¨æ•°ï¼Œè¿”å› *0 ã€‚*
>
> æ³¨æ„ï¼š
>
> - å¦‚æœæŸä¸ªæ•´æ•°å¤§äº `1` ï¼Œä¸”ä¸å­˜åœ¨é™¤ `1` å’Œè‡ªèº«ä¹‹å¤–çš„æ­£æ•´æ•°å› å­ï¼Œåˆ™è®¤ä¸ºè¯¥æ•´æ•°æ˜¯ä¸€ä¸ªè´¨æ•°ã€‚
> - å¦‚æœå­˜åœ¨æ•´æ•° `i` ï¼Œä½¿å¾— `nums[i][i] = val` æˆ–è€… `nums[i][nums.length - i - 1]= val` ï¼Œåˆ™è®¤ä¸ºæ•´æ•° `val` ä½äº `nums` çš„ä¸€æ¡å¯¹è§’çº¿ä¸Šã€‚

```c++
class Solution {
public:
    bool isPrime(int n)
    {
        for(int i=2;i*i<=n;i++)
        {
            if(n%i==0) return false;
        }
        return n>=2;
    }
    int diagonalPrime(vector<vector<int>>& nums) {
        //4*10^6,æ•°æ®èŒƒå›´ä¸å°,ä¸é€‚åˆæ‰“è¡¨,ç›´æ¥ç¡¬ç®—å°±è¡Œ,æœ€å¤š600ä¸ªæ•°
        int maxPrime = -1;
        int n = nums.size();
        for(int i=0;i<n;i++)
        {
            int x = nums[i][i];
            if(x < maxPrime) continue;
            if(isPrime(x)) maxPrime = max(maxPrime, x);
        }
        for(int i=0;i<n;i++)
        {
            int x = nums[i][n-i-1];
            if(x < maxPrime) continue;
            if(isPrime(x)) maxPrime = max(maxPrime, x);
        }
        if(maxPrime==-1) return 0;
        return maxPrime;
    }
};
```



### ï¼ˆ3ï¼‰[762. äºŒè¿›åˆ¶è¡¨ç¤ºä¸­è´¨æ•°ä¸ªè®¡ç®—ç½®ä½](https://leetcode.cn/problems/prime-number-of-set-bits-in-binary-representation/)

> ç»™ä½ ä¸¤ä¸ªæ•´æ•° `left` å’Œ `right` ï¼Œåœ¨é—­åŒºé—´ `[left, right]` èŒƒå›´å†…ï¼Œç»Ÿè®¡å¹¶è¿”å› **è®¡ç®—ç½®ä½ä½æ•°ä¸ºè´¨æ•°** çš„æ•´æ•°ä¸ªæ•°ã€‚
>
> **è®¡ç®—ç½®ä½ä½æ•°** å°±æ˜¯äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ `1` çš„ä¸ªæ•°ã€‚
>
> - ä¾‹å¦‚ï¼Œ `21` çš„äºŒè¿›åˆ¶è¡¨ç¤º `10101` æœ‰ `3` ä¸ªè®¡ç®—ç½®ä½ã€‚

å°çš„èŒƒå›´çš„è´¨æ•°å¯ä»¥ç›´æ¥æ‰“è¡¨äº†ï¼š

```c++
class Solution {
public:
    unordered_set<int> isprime{2,3,5,7,11,13,17,19,23,29,31,37};
    int countPrimeSetBits(int left, int right) {
        //10^6 æ‰“è¡¨è´¨æ•°
        int ans = 0;
        for(int index=left;index<=right;index++)
        {
            int cnt = __builtin_popcount(index);
            if(isprime.contains(cnt))
            {
                ans++;
            }
        }
        return ans;
    }
};
```



### ï¼ˆ4ï¼‰[3044. å‡ºç°é¢‘ç‡æœ€é«˜çš„è´¨æ•°](https://leetcode.cn/problems/most-frequent-prime/)

> ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º `m x n` ã€ä¸‹æ ‡ä» **0** å¼€å§‹çš„äºŒç»´çŸ©é˜µ `mat` ã€‚åœ¨æ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼ç”Ÿæˆæ•°å­—ï¼š
>
> - æœ€å¤šæœ‰ `8` æ¡è·¯å¾„å¯ä»¥é€‰æ‹©ï¼šä¸œï¼Œä¸œå—ï¼Œå—ï¼Œè¥¿å—ï¼Œè¥¿ï¼Œè¥¿åŒ—ï¼ŒåŒ—ï¼Œä¸œåŒ—ã€‚
> - é€‰æ‹©å…¶ä¸­ä¸€æ¡è·¯å¾„ï¼Œæ²¿ç€è¿™ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œå¹¶ä¸”å°†è·¯å¾„ä¸Šçš„æ•°å­—æ·»åŠ åˆ°æ­£åœ¨å½¢æˆçš„æ•°å­—åé¢ã€‚
> - æ³¨æ„ï¼Œæ¯ä¸€æ­¥éƒ½ä¼šç”Ÿæˆæ•°å­—ï¼Œä¾‹å¦‚ï¼Œå¦‚æœè·¯å¾„ä¸Šçš„æ•°å­—æ˜¯ `1, 9, 1`ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªæ–¹å‘ä¸Šä¼šç”Ÿæˆä¸‰ä¸ªæ•°å­—ï¼š`1, 19, 191` ã€‚
>
> è¿”å›åœ¨éå†çŸ©é˜µæ‰€åˆ›å»ºçš„æ‰€æœ‰æ•°å­—ä¸­ï¼Œå‡ºç°é¢‘ç‡æœ€é«˜çš„ã€**å¤§äº** `10`çš„è´¨æ•°ï¼›å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è´¨æ•°ï¼Œåˆ™è¿”å› `-1` ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªå‡ºç°é¢‘ç‡æœ€é«˜çš„è´¨æ•°ï¼Œé‚£ä¹ˆè¿”å›å…¶ä¸­æœ€å¤§çš„é‚£ä¸ªã€‚
>
> **æ³¨æ„ï¼š**ç§»åŠ¨è¿‡ç¨‹ä¸­ä¸å…è®¸æ”¹å˜æ–¹å‘ã€‚

åšæ³•å°±æ˜¯æš´åŠ›ä¸€äº›æ¥åšï¼Œä¸éœ€è¦æ‰“è¡¨ï¼ˆæ³¨é‡Šä¸­æœ‰è§£é‡Šï¼‰ï¼Œç°åœºè®¡ç®—å³å¯ã€‚

```c++
//èŒƒå›´æ˜¯1~999999,æ‰“è¡¨æœ‰å¯èƒ½æ¯”è¾ƒäº,å› ä¸ºå…­ä½æ•°æœ€å¤šæ˜¯28ä¸ª(6è¡Œ+6åˆ—+ä¸¤æ¡å¯¹è§’çº¿çš„æ­£åºå’Œé€†åº),æ‰€ä»¥æ•´ä½“èŒƒå›´éƒ½ä¸å¤§,è€Œä¸”å¤§éƒ¨åˆ†æ•°éƒ½ä¸æ˜¯è´¨æ•°,å¯ä»¥æå‰é€€å‡º
//å®é™…è€ƒè¯•åšé¢˜çš„æ—¶å€™,æ˜¯å¦é¢„å¤„ç†éƒ½å¯ä»¥è¯•ä¸€ä¸‹
class Solution {
public:
    bool isPrime(int n)
    {
        for(int i=2;i*i<=n;i++)
        {
            if(n%i==0) return false;
        }
        return n>=2;
    }
    int mostFrequentPrime(vector<vector<int>>& mat) {
        //må’Œnçš„èŒƒå›´<=6,å› æ­¤çº¯æš´åŠ›åšåº”è¯¥æ˜¯å¯ä»¥è¿‡çš„
        int m = mat.size();
        int n = mat[0].size();
        int dirs[8][2] = {1,0,-1,0,0,1,0,-1,1,1,-1,1,1,-1,-1,-1};
        unordered_map<int, int> umap; //å­˜æ”¾æ¯ä¸ªè´¨æ•°åŠå…¶ä¸ªæ•°
        //æ¯ä¸ªå€¼å¾€8ä¸ªæ–¹å‘æ‰©æ•£æ±‚è§£
        for(int i=0;i<m;i++)
        {
            for(int j=0;j<n;j++)
            {
                for(int d=0;d<8;d++) //å°è¯•å¾€å…«ä¸ªæ–¹å‘èµ°,èµ·ç‚¹é‚£ä¸ªå€¼å…¶å®æ˜¯ä¸ç”¨åŠ çš„,å› ä¸ºåªåŒ…å«è‡ªå·±ä¸€å®š<=10,ä¸å¯èƒ½æ”¾å…¥å“ˆå¸Œè¡¨ä¸­
                {
                    int x = mat[i][j]; //8ä¸ªæ–¹å‘è®¡ç®—éƒ½è¦å…ˆé‡ç½®x
                    int nxtX = i + dirs[d][0];
                    int nxtY = j + dirs[d][1];
                    while(nxtX>=0 && nxtX<m && nxtY>=0 && nxtY<n)
                    {
                        x = x * 10 + mat[nxtX][nxtY]; //åŠ ä¸€ä½
                        if(umap.contains(x) || isPrime(x))
                        {
                            umap[x]++;
                        }
                        nxtX += dirs[d][0];
                        nxtY += dirs[d][1];
                    }
                }
            }
        }
        //å¼€å§‹çœ‹umapä¸­å“ªä¸ªæ•°æœ€å¤§
        int maxFreq = 0;
        int maxValue = -1;
        for(auto& [k, v]: umap)
        {
            if(k<=10) continue; //è´¨æ•°éœ€è¦>10
            if(v>maxFreq) //æ˜æ˜¾é¢‘ç‡æ›´å¤§äº†
            {
                maxFreq = v;
                maxValue = k;
            }
            else if(v==maxFreq && k>maxValue) maxValue = k; //é¢‘ç‡ä¸æœ€å¤§çš„é¢‘ç‡ç›¸ç­‰,çœ‹çœ‹å€¼æœ‰æ²¡æœ‰æ›´å¤§
        }

        return maxValue;
    }
};
```



### ï¼ˆ5ï¼‰[866. å›æ–‡è´¨æ•°](https://leetcode.cn/problems/prime-palindrome/)(ç¼ºé¢˜è§£)

> ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œè¿”å›å¤§äºæˆ–ç­‰äº `n` çš„æœ€å° **å›æ–‡è´¨æ•°**ã€‚
>
> ä¸€ä¸ªæ•´æ•°å¦‚æœæ°å¥½æœ‰ä¸¤ä¸ªé™¤æ•°ï¼š`1` å’Œå®ƒæœ¬èº«ï¼Œé‚£ä¹ˆå®ƒæ˜¯ **è´¨æ•°** ã€‚æ³¨æ„ï¼Œ`1` ä¸æ˜¯è´¨æ•°ã€‚
>
> - ä¾‹å¦‚ï¼Œ`2`ã€`3`ã€`5`ã€`7`ã€`11` å’Œ `13` éƒ½æ˜¯è´¨æ•°ã€‚
>
> ä¸€ä¸ªæ•´æ•°å¦‚æœä»å·¦å‘å³è¯»å’Œä»å³å‘å·¦è¯»æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆå®ƒæ˜¯ **å›æ–‡æ•°** ã€‚
>
> - ä¾‹å¦‚ï¼Œ`101` å’Œ `12321` éƒ½æ˜¯å›æ–‡æ•°ã€‚
>
> æµ‹è¯•ç”¨ä¾‹ä¿è¯ç­”æ¡ˆæ€»æ˜¯å­˜åœ¨ï¼Œå¹¶ä¸”åœ¨ `[2, 2 * 108]` èŒƒå›´å†…ã€‚

è¿™é“é¢˜çš„é¢˜è§£è´¨é‡ä¸æ˜¯ç‰¹åˆ«é«˜ï¼Œå¯ä»¥é¢„å…ˆæ‰“è¡¨æ¥åšï¼Œå¹¶å¯ä»¥æ³¨æ„å‡ ä¸ªä¼˜åŒ–é¡¹ï¼š

- ï¼ˆ1ï¼‰ç»“å°¾æ˜¯0ï¼Œ2ï¼Œ4ï¼Œ6ï¼Œ8çš„ä¸€å®šä¸æ˜¯è´¨æ•°ï¼ŒåŒæ—¶ä¹Ÿå°±æ„å‘³ç€ç¬¬ä¸€ä½æ˜¯2ï¼Œ4ï¼Œ6ï¼Œ8çš„ä¹Ÿä¸€å®šä¸æ˜¯è¦æ±‚çš„æ•°ï¼›
- ï¼ˆ2ï¼‰**é•¿åº¦ä¸ºå¶æ•°çš„å›æ–‡ç´ æ•°åªæœ‰11ï¼Œæ¯”å¦‚å››ä½æ•°æ˜¯ä¸å­˜åœ¨å›æ–‡ç´ æ•°çš„ã€‚**

> ### ç®€è¦è¯æ˜ï¼šå¤§äºä¸¤ä½æ•°çš„å¶æ•°ä½æ•°çš„å›æ–‡æ•°ä¸€å®šæ˜¯11çš„å€æ•°ï¼Œå› æ­¤ä¸å­˜åœ¨è¿™æ ·çš„å›æ–‡ç´ æ•°ã€‚
>
> #### **æ ¸å¿ƒè¯æ˜æ€è·¯**  
> åˆ©ç”¨**å›æ–‡æ•°çš„å¯¹ç§°æ€§**å’Œ**11çš„æ•´é™¤è§„åˆ™**ï¼š  
>
> **11çš„æ•´é™¤è§„åˆ™**ï¼šä¸€ä¸ªæ•°èƒ½è¢«11æ•´é™¤ï¼Œå½“ä¸”ä»…å½“å®ƒçš„ï¼ˆå¥‡æ•°ä½æ•°å­—ä¹‹å’Œï¼‰å‡å»ï¼ˆå¶æ•°ä½æ•°å­—ä¹‹å’Œï¼‰çš„å·®æ˜¯11çš„å€æ•°ï¼ˆåŒ…æ‹¬0ï¼‰

æŒºåŸ‹æ±°çš„ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰æ›´å¹²å‡€çš„å†™æ³•ã€‚

```c++
class Solution {
public:
    long long reverse_num(long long n)
    {
        long long ans = 0;
        while(n)
        {
            int x = n%10;
            ans = ans * 10 + x;
            n /= 10;
        }
        return ans;
    }
    bool isPrime(long long n)
    {
        for(long long i=2;i*i<=n;i++)
        {
            if(n%i==0) return false;
        }
        return n>=2;
    }
    bool isValid(long long n)
    {
        //åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡è´¨æ•°
        if(n==11) return true;
        if(n==2) return true;
        //1.é•¿åº¦ä¸ºå¶æ•°çš„å›æ–‡æ•°ä¸€å®šä¸æ˜¯è´¨æ•°
        if(n>=1000 && n<=9999) return false;
        if(n>=100000 && n<=999999) return false;
        if(n>=10000000 && n<=99999999) return false; //æ³¨:è¿™ä¸ªæ”¾åœ¨å‰é¢ä¼šå¿«ä¸å°‘,ä¸ç„¶æ”¾åé¢æœ‰å¯èƒ½ä¼šè¶…æ—¶
        //2.å°¾æ•°ä¸ºå¶æ•°çš„ä¸€å®šä¸æ˜¯
        if((n%10)%2==0) return false;
        //åŒç†,ç¬¬ä¸€ä¸ºä¸ºå¶æ•°çš„ä¹Ÿä¸€å®šä¸æ˜¯
        int m = reverse_num(n);
        if((m%10)%2==0) return false;
        //3.åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡ä¸²
        if(m!=n) return false;
        return isPrime(n);
    }
    int primePalindrome(int n) {
        long long mx = 2e10+8;
        for(long long index = n;index<=mx;index++)
        {
            if(isValid(index))
            {
                return index;
            }
        }
        return -1;
    }
};
```



## 2.é¢„å¤„ç†è´¨æ•°ï¼ˆç­›è´¨æ•°ï¼‰

[æ¨¡æ¿ï¼ˆåŸƒæ°ç­›å’Œæ¬§æ‹‰ç­›ï¼‰](https://leetcode.cn/problems/closest-prime-numbers-in-range/solutions/2040087/yu-chu-li-zhi-shu-mei-ju-by-endlesscheng-uw2b/)



## Â§1.5 å› å­

### ï¼ˆ1ï¼‰æ¿å­é¢˜â€”â€”[2427. å…¬å› å­çš„æ•°ç›®](https://leetcode.cn/problems/number-of-common-factors/)

> ç»™ä½ ä¸¤ä¸ªæ­£æ•´æ•° `a` å’Œ `b` ï¼Œè¿”å› `a` å’Œ `b` çš„ **å…¬** å› å­çš„æ•°ç›®ã€‚
>
> å¦‚æœ `x` å¯ä»¥åŒæ—¶æ•´é™¤ `a` å’Œ `b` ï¼Œåˆ™è®¤ä¸º `x` æ˜¯ `a` å’Œ `b` çš„ä¸€ä¸ª **å…¬å› å­** ã€‚

æ€è·¯ï¼šæšä¸¾å› å­ï¼ŒæŒ¨ä¸ªåˆ¤æ–­èƒ½å¦æ•´é™¤aå’Œbã€‚

- ä¼˜åŒ–æ€è·¯åœ¨äºï¼šåªéœ€è¦æšä¸¾aå’Œbçš„æœ€å¤§å…¬å› æ•°çš„å› å­å³å¯ã€‚

```c++
class Solution {
public:
    int commonFactors(int a, int b) {
        int g = gcd(a, b); //æ±‚aå’Œbçš„æœ€å¤§å…¬å› æ•°,å…¶å› å­æ•°å³ä¸ºæ‰€æ±‚
        int ans = 0;
        for(int i=1;i*i<=g;i++)
        {
            if(g % i == 0) 
            {
                ans++; 
                if(i * i < g) ans++; //è¯´æ˜g/iä¹Ÿæ˜¯ä¸€ä¸ªå…¬å› å­,å¦‚æœi*i==g,éœ€è¦é¿å…é‡å¤è®¡ç®—ä¸€é
            }
        }
        return ans;
    }
};
```

> éœ€è¦è®°ä½ä¸Šé¢è¿™ä¸ªæ±‚è§£å› å­æ•°ç›®çš„æ¿å­é¢˜ã€‚



### ï¼ˆ2ï¼‰[1952. ä¸‰é™¤æ•°](https://leetcode.cn/problems/three-divisors/)

> ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ã€‚å¦‚æœ `n` **æ°å¥½æœ‰ä¸‰ä¸ªæ­£é™¤æ•°** ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
>
> å¦‚æœå­˜åœ¨æ•´æ•° `k` ï¼Œæ»¡è¶³ `n = k * m` ï¼Œé‚£ä¹ˆæ•´æ•° `m` å°±æ˜¯ `n` çš„ä¸€ä¸ª **é™¤æ•°** ã€‚

```c++
class Solution {
public:
    bool isThree(int n) {
        //æ±‚è§£å› å­çš„æ•°ç›®
        int cnt = 0;
        for(int i=1;i*i<=n;i++)
        {
            if(n % i == 0) 
            {
                cnt++;
                if(i * i < n)
                {
                    cnt++;
                }
            }
        }
        return cnt==3;
    }
};
```



### ï¼ˆ3ï¼‰[1492. n çš„ç¬¬ k ä¸ªå› å­](https://leetcode.cn/problems/the-kth-factor-of-n/)

> ç»™ä½ ä¸¤ä¸ªæ­£æ•´æ•° `n` å’Œ `k` ã€‚
>
> å¦‚æœæ­£æ•´æ•° `i` æ»¡è¶³ `n % i == 0` ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´æ­£æ•´æ•° `i` æ˜¯æ•´æ•° `n` çš„å› å­ã€‚
>
> è€ƒè™‘æ•´æ•° `n` çš„æ‰€æœ‰å› å­ï¼Œå°†å®ƒä»¬ **å‡åºæ’åˆ—** ã€‚è¯·ä½ è¿”å›ç¬¬ `k` ä¸ªå› å­ã€‚å¦‚æœ `n` çš„å› å­æ•°å°‘äº `k` ï¼Œè¯·ä½ è¿”å› `-1` ã€‚

```c++
class Solution {
public:
    int kthFactor(int n, int k) {
        //æŠŠæ‰€æœ‰å› å­æ”¾åˆ°ä¸€ä¸ªvectoré‡Œé¢,ç„¶åå–top k
        vector<int> factors;
        for(int i=1;i*i<=n;i++)
        {
            if(n%i==0)
            {
                factors.emplace_back(i);
                if(i*i<n)
                {
                    factors.emplace_back(n / i);
                }
            }
        }
        if((int)factors.size()<k) return -1;
        nth_element(factors.begin(), factors.begin()+k-1, factors.end());
        return factors[k-1];
    }
};
```



### ï¼ˆ4ï¼‰[829. è¿ç»­æ•´æ•°æ±‚å’Œ](https://leetcode.cn/problems/consecutive-numbers-sum/)

> ç»™å®šä¸€ä¸ªæ­£æ•´æ•° `n`ï¼Œè¿”å› *è¿ç»­æ­£æ•´æ•°æ»¡è¶³æ‰€æœ‰æ•°å­—ä¹‹å’Œä¸º `n` çš„ç»„æ•°* ã€‚ 
>
>  
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: n = 5
> è¾“å‡º: 2
> è§£é‡Š: 5 = 2 + 3ï¼Œå…±æœ‰ä¸¤ç»„è¿ç»­æ•´æ•°([5],[2,3])æ±‚å’Œåä¸º 5ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: n = 9
> è¾“å‡º: 3
> è§£é‡Š: 9 = 4 + 5 = 2 + 3 + 4
> ```
>
> **ç¤ºä¾‹ 3:**
>
> ```
> è¾“å…¥: n = 15
> è¾“å‡º: 4
> è§£é‡Š: 15 = 8 + 7 = 4 + 5 + 6 = 1 + 2 + 3 + 4 + 5
> ```
>
>  
>
> **æç¤º:**
>
> - `1 <= n <= 109`





## Â§1.6 æœ€å¤§å…¬çº¦æ•°ï¼ˆGCDï¼‰

### [365. æ°´å£¶é—®é¢˜](https://leetcode.cn/problems/water-and-jug-problem/)

https://leetcode.cn/problems/water-and-jug-problem/description/

æœ‰ä¸¤ä¸ªæ°´å£¶ï¼Œå®¹é‡åˆ†åˆ«ä¸º `x` å’Œ `y` å‡ã€‚æ°´çš„ä¾›åº”æ˜¯æ— é™çš„ã€‚ç¡®å®šæ˜¯å¦æœ‰å¯èƒ½ä½¿ç”¨è¿™ä¸¤ä¸ªå£¶å‡†ç¡®å¾—åˆ° `target` å‡ã€‚

ä½ å¯ä»¥ï¼š

- è£…æ»¡ä»»æ„ä¸€ä¸ªæ°´å£¶
- æ¸…ç©ºä»»æ„ä¸€ä¸ªæ°´å£¶
- å°†æ°´ä»ä¸€ä¸ªæ°´å£¶å€’å…¥å¦ä¸€ä¸ªæ°´å£¶ï¼Œç›´åˆ°æ¥æ°´å£¶å·²æ»¡ï¼Œæˆ–å€’æ°´å£¶å·²ç©ºã€‚

 

**ç¤ºä¾‹ 1:** 

```
è¾“å…¥: x = 3,y = 5,target = 4
è¾“å‡º: true
è§£é‡Šï¼š
æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼Œä»¥è¾¾åˆ°æ€»å…± 4 å‡æ°´ï¼š
1. è£…æ»¡ 5 å‡çš„æ°´å£¶(0, 5)ã€‚
2. æŠŠ 5 å‡çš„æ°´å£¶å€’è¿› 3 å‡çš„æ°´å£¶ï¼Œç•™ä¸‹ 2 å‡(3, 2)ã€‚
3. å€’ç©º 3 å‡çš„æ°´å£¶(0, 2)ã€‚
4. æŠŠ 2 å‡æ°´ä» 5 å‡çš„æ°´å£¶è½¬ç§»åˆ° 3 å‡çš„æ°´å£¶(2, 0)ã€‚
5. å†æ¬¡åŠ æ»¡ 5 å‡çš„æ°´å£¶(2, 5)ã€‚
6. ä» 5 å‡çš„æ°´å£¶å‘ 3 å‡çš„æ°´å£¶å€’æ°´ç›´åˆ° 3 å‡çš„æ°´å£¶å€’æ»¡ã€‚5 å‡çš„æ°´å£¶é‡Œç•™ä¸‹äº† 4 å‡æ°´(3, 4)ã€‚
7. å€’ç©º 3 å‡çš„æ°´å£¶ã€‚ç°åœ¨ï¼Œ5 å‡çš„æ°´å£¶é‡Œæ­£å¥½æœ‰ 4 å‡æ°´(0, 4)ã€‚
å‚è€ƒï¼šæ¥è‡ªè‘—åçš„ "Die Hard"
```



#### æ–¹æ³•1ï¼šDFS

```C++
using PII = pair<int,int>;
class Solution {
public:
    bool canMeasureWater(int x, int y, int target) {
        stack<PII> stk;
        stk.emplace(0,0);
        auto hashFunc = [](const PII& a)
        {
            return hash<int>()(a.first)^hash<int>()(a.second);
        };
        unordered_set<PII,decltype(hashFunc)> seen(0,hashFunc);
        while(!stk.empty())
        {
            if(seen.count(stk.top()))//å¦‚æœå·²ç»é‡å¤å›æ¥äº†ã€‚
            {
                stk.pop();
                continue;
            }
            seen.emplace(stk.top());
            auto [remain_x,remain_y] = stk.top();
            stk.pop();
            if(remain_x==target||remain_y==target||remain_x+remain_y==target)return true;
            stk.emplace(x,remain_y); // æŠŠ X å£¶çŒæ»¡ã€‚
            stk.emplace(remain_x,y); // æŠŠ Y å£¶çŒæ»¡ã€‚
            stk.emplace(0,remain_y); // æŠŠ X å£¶å€’ç©ºã€‚
            stk.emplace(remain_x,0); // æŠŠ Y å£¶å€’ç©ºã€‚
            //xå€’ç©ºï¼šremain_x//y-remain_y å€’æ»¡yéœ€è¦çš„  
            //  if remain_xå° x'=0 
            //  else          x' = remain_x - (y-remain_y); //y-remain_y yä¸­è¿˜èƒ½æ”¾çš„æ°´
            // æŠŠ X å£¶çš„æ°´çŒè¿› Y å£¶ï¼Œç›´è‡³çŒæ»¡æˆ–å€’ç©ºã€‚
            stk.emplace(remain_x-min(remain_x,y-remain_y),remain_y+min(remain_x,y-remain_y));
            // æŠŠ Y å£¶çš„æ°´çŒè¿› X å£¶ï¼Œç›´è‡³çŒæ»¡æˆ–å€’ç©ºã€‚
            stk.emplace(remain_x+min(remain_y,x-remain_x),remain_y-min(remain_y,x-remain_x));
        }
        return false;
    }
};
```



è¯­æ³•

>1. **Lambda è¡¨è¾¾å¼å®šä¹‰å“ˆå¸Œå‡½æ•°**ï¼š
>
>   ```cpp
>   auto hash_function = [](const PII& o) 
>   {
>       return hash<int>()(o.first) ^ hash<int>()(o.second);
>   };
>   ```
>
>   - `auto` æ¨å¯¼å˜é‡ç±»å‹ä¸º lambda çš„é—­åŒ…ç±»å‹ã€‚
>   - Lambda æ¥å— `const PII&` å‚æ•°ï¼Œè®¡ç®—å…¶ `first` å’Œ `second` çš„å“ˆå¸Œå€¼å¼‚æˆ–ç»“æœã€‚
>   - `hash<int>()(o.first)` è°ƒç”¨æ ‡å‡†åº“çš„ `hash<int>` ç”Ÿæˆå“ˆå¸Œå€¼ã€‚
>
>2. **å£°æ˜ `unordered_set` å¹¶æŒ‡å®šå“ˆå¸Œç±»å‹**ï¼š
>
>   ```cpp
>   unordered_set<PII, decltype(hash_function)> seen(0, hash_function);
>   ```
>
>   - `decltype(hash_function)` è·å– lambda çš„ç±»å‹ä½œä¸ºæ¨¡æ¿å‚æ•°ï¼Œç¡®ä¿ `unordered_set` ä½¿ç”¨è‡ªå®šä¹‰å“ˆå¸Œã€‚
>     - **`decltype`çš„ä½œç”¨**ï¼šè·å–Lambdaçš„ç±»å‹ï¼Œå› ä¸ºLambdaçš„ç±»å‹æ˜¯åŒ¿åä¸”ç¼–è¯‘å™¨ç”Ÿæˆçš„ï¼Œæ— æ³•ç›´æ¥å†™å‡º
>   - æ¨¡æ¿å‚æ•°ï¼š`PII` æ˜¯å…ƒç´ ç±»å‹ï¼Œ`decltype(hash_function)` æ˜¯å“ˆå¸Œå‡½æ•°ç±»å‹ã€‚
>
>3. **æ„é€ å‡½æ•°å‚æ•°**ï¼š
>
>   - `0`ï¼šåˆå§‹æ¡¶ï¼ˆbucketï¼‰æ•°é‡ã€‚
>   - `hash_function`ï¼šä¼ å…¥è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°å¯¹è±¡ã€‚ç”±äº lambda é—­åŒ…ç±»å‹ä¸å¯é»˜è®¤æ„é€ ï¼Œå¿…é¡»æ˜¾å¼ä¼ é€’å®ä¾‹ã€‚

è§£é‡Š

>### 1. **ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°ï¼Ÿ**
>
>- **æ ‡å‡†åº“é™åˆ¶**ï¼šC++æ ‡å‡†åº“æœªæä¾›`std::pair<int, int>`çš„é»˜è®¤å“ˆå¸Œå‡½æ•°ï¼Œå› æ­¤ç›´æ¥ä½¿ç”¨`unordered_set<PII>`ä¼šç¼–è¯‘å¤±è´¥ã€‚
>- **æ‰‹åŠ¨æä¾›å“ˆå¸Œé€»è¾‘**ï¼šé€šè¿‡å®šä¹‰`hash_function`ï¼Œæ˜ç¡®å‘Šè¯‰å®¹å™¨å¦‚ä½•è®¡ç®—`PII`å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œä½¿å…¶èƒ½æ­£ç¡®å­˜å‚¨å’ŒæŸ¥æ‰¾å…ƒç´ ã€‚
>
>### 2. **ä¸C#çš„`Equals`å’Œ`GetHashCode`çš„å…³ç³»**
>
>- ç­‰ä»·æ€§ï¼šC++çš„unordered_setéœ€è¦ä¸¤ä¸ªç»„ä»¶ï¼šå“ˆå¸Œå‡½æ•°ï¼ˆç±»ä¼¼GetHashCodeï¼‰å’Œç›¸ç­‰æ¯”è¾ƒï¼ˆç±»ä¼¼Equalsï¼‰ã€‚
>  - **å“ˆå¸Œå‡½æ•°**ï¼šå¿…é¡»æ˜¾å¼æä¾›ï¼ˆå¦‚ä»£ç ä¸­çš„`hash_function`ï¼‰ã€‚
>  - **ç›¸ç­‰æ¯”è¾ƒ**ï¼šé»˜è®¤ä½¿ç”¨`operator==`ï¼Œè€Œ`std::pair`å·²å®ç°`==`ï¼Œå› æ­¤æ— éœ€é¢å¤–ç¼–å†™ã€‚
>- **C#å¯¹æ¯”**ï¼šåœ¨C#ä¸­ï¼Œè‹¥å°†å¯¹è±¡ç”¨ä½œå­—å…¸é”®ï¼Œå¿…é¡»åŒæ—¶é‡å†™`Equals`å’Œ`GetHashCode`ï¼Œç¡®ä¿é€»è¾‘ä¸€è‡´ã€‚C++çš„æœºåˆ¶ç±»ä¼¼ï¼Œä½†è¯­æ³•å’Œå®ç°æ–¹å¼ä¸åŒã€‚



#### æ–¹æ³•äºŒï¼šæ•°å­¦

https://leetcode.cn/problems/water-and-jug-problem/solutions/161010/shui-hu-wen-ti-by-leetcode-solution/

1. **æ“ä½œåˆ†æ**ï¼šæ¯æ¬¡æ“ä½œï¼ˆè£…æ»¡æˆ–å€’ç©ºï¼‰ä¼šå¯¼è‡´æ€»æ°´é‡å˜åŒ–ä¸º \(x\) æˆ– \(y\) çš„æ•´æ•°å€ã€‚å€’æ°´æ“ä½œä¸å½±å“æ€»æ°´é‡ï¼Œä»…æ”¹å˜æ°´çš„åˆ†å¸ƒã€‚
2. **è´ç¥–ï¼ˆè£´èœ€ï¼‰å®šç†**ï¼šæ–¹ç¨‹ \(ax + by = z\) æœ‰è§£å½“ä¸”ä»…å½“ \(z\) æ˜¯ \(x\) å’Œ \(y\) çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆgcdï¼‰çš„å€æ•°ã€‚
3. **å®é™…çº¦æŸ**ï¼šæ€»æ°´é‡ \(z\) å¿…é¡»æ»¡è¶³$ 0 \leq z \leq x + y$ï¼Œå› ä¸ºæ— æ³•è·å¾—è¶…è¿‡ä¸¤å£¶æ€»å®¹é‡çš„æ°´æˆ–è´Ÿæ°´é‡ã€‚

è§£é¢˜æ­¥éª¤

1. **ç‰¹æ®Šæƒ…å†µå¤„ç†**ï¼š
   - è‹¥ \(z = 0\)ï¼Œç›´æ¥è¿”å› `True`ï¼ˆæ— éœ€æ“ä½œï¼‰ã€‚
   - è‹¥ \(x + y < z\)ï¼Œè¿”å› `False`ï¼ˆè¶…å‡ºå®¹é‡æ€»å’Œï¼‰ã€‚
   - è‹¥ \(x\) æˆ– \(y\) ä¸º0ï¼Œåˆ™åªæœ‰å½“ \(z\) ç­‰äºå¦ä¸€å®¹å™¨çš„å®¹é‡æˆ–0æ—¶æ‰å¯èƒ½ã€‚
2. **è®¡ç®—æœ€å¤§å…¬çº¦æ•°**ï¼šä½¿ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•è®¡ç®— \(x\) å’Œ \(y\) çš„ gcdã€‚
3. **åˆ¤æ–­æ¡ä»¶**ï¼šæ£€æŸ¥ \(z\) æ˜¯å¦æ˜¯ gcd çš„å€æ•°ä¸”æ»¡è¶³å®¹é‡çº¦æŸã€‚

```C++
class Solution {
public:
    bool canMeasureWater(int x, int y, int target) {
        if(target==0)return true;
        if(target>x+y)return false;
        if(x==0||y==0)return target==0||x+y==target;
        return target % gcd(x,y) ==0;
    }
};
```



å¦‚æœæƒ³è‡ªå·±å†™gcdï¼š

ç­”: æ˜¯è¾—è½¬ç›¸é™¤æ³• ç”¨äºæ±‚**æœ€å¤§å…¬çº¦æ•°**

é€’å½’å†™æ³•

```C++
int gcd(int a, int b){
    if (a%b == 0) {
        return b;
    }
    return gcd(b, a%b);
}
```

éé€’å½’å†™æ³•ï¼š

```C++
int gcd(int a, int b){
    int temp = a;
    while(a%b != 0){
        a = b;
        b = temp%b;
        temp = a;
    }
    return b;
}
```

ç®€å•å†™æ³•ï¼š

```C++
int gcd(int a, int b)
{
    return b == 0 ? a : gcd(b, a % b);
}
```



# ç»„åˆæ•°å­¦ä¸“é¢˜

å¯ä»¥å‚è€ƒè¿™ä¸ªè§†é¢‘ç³»åˆ—æ¥å­¦ä¹ ï¼š[NOIPåˆèµ›è®²è§£â€”â€”ç»„åˆæ•°å­¦_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1PE411y76n/?spm_id_from=333.337.search-card.all.click&vd_source=f0e5ebbc6d14fe7f10f6a52debc41c99)

## 1.åŸºç¡€çŸ¥è¯†

### (1)åŠ æ³•åŸç†ä¸ä¹˜æ³•åŸç†

> åœ¨ç»„åˆæ•°å­¦ä¸­ï¼Œ**åŠ æ³•åŸç†**å’Œ**ä¹˜æ³•åŸç†**æ˜¯è®¡ç®—äº‹ä»¶å¯èƒ½æ€§çš„åŸºç¡€è§„åˆ™ï¼Œå…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š
>
> ---
>
> ### **1. åŠ æ³•åŸç†ï¼ˆäº’æ–¥äº‹ä»¶çš„â€œæˆ–â€å…³ç³»ï¼‰**
> - **å®šä¹‰**ï¼šè‹¥å®ŒæˆæŸä»»åŠ¡æœ‰è‹¥å¹²**äº’æ–¥**çš„æ–¹å¼ï¼ˆä»»é€‰ä¸€ç§å³å¯ï¼‰ï¼Œåˆ™æ€»æ–¹æ³•æ•°ä¸ºå„æ–¹å¼æ–¹æ³•æ•°ä¹‹å’Œã€‚
> - **å…¬å¼**ï¼šæ€»æ–¹æ³•æ•° = $A + B + C + \dots$
> - **ä¾‹å­**ï¼š  
>   - ä»åŒ—äº¬åˆ°ä¸Šæµ·ï¼Œå¯ä»¥åé£æœºï¼ˆ5ä¸ªèˆªç­ï¼‰æˆ–é«˜é“ï¼ˆ3ä¸ªè½¦æ¬¡ï¼‰ã€‚æ€»å…±æœ‰ \(5 + 3 = 8\) ç§é€‰æ‹©ã€‚
>   - ä¹¦æ¶ä¸Šæœ‰4æœ¬æ•°å­¦ä¹¦å’Œ6æœ¬å°è¯´ï¼Œé€‰ä¸€æœ¬ä¹¦é˜…è¯»çš„æ–¹æ³•æ•°æ˜¯ \(4 + 6 = 10\) ç§ã€‚
>
> ---
>
> ### **2. ä¹˜æ³•åŸç†ï¼ˆç‹¬ç«‹æ­¥éª¤çš„â€œä¸”â€å…³ç³»ï¼‰**
> - **å®šä¹‰**ï¼šè‹¥å®ŒæˆæŸä»»åŠ¡éœ€è¦**å¤šä¸ªç‹¬ç«‹æ­¥éª¤**ï¼ˆæ‰€æœ‰æ­¥éª¤ä¾æ¬¡å®Œæˆï¼‰ï¼Œåˆ™æ€»æ–¹æ³•æ•°ä¸ºå„æ­¥éª¤æ–¹æ³•æ•°çš„ä¹˜ç§¯ã€‚
> - **å…¬å¼**ï¼šæ€»æ–¹æ³•æ•° = $A \times B \times C \times \dots$
> - **ä¾‹å­**ï¼š  
>   - ç©¿è¡£æœæ—¶ï¼Œæœ‰3ä»¶ä¸Šè¡£å’Œ4æ¡è£¤å­ï¼Œæ€»æ­é…æ–¹å¼ä¸º $3 \times 4 = 12$ç§ã€‚
>   - ä»AåŸåˆ°BåŸæœ‰2æ¡è·¯ï¼ŒBåŸåˆ°CåŸæœ‰3æ¡è·¯ï¼Œä»Aåˆ°Cçš„è·¯å¾„æ•°ä¸º$2 \times 3 = 6$ ç§ã€‚
>
> ---
>
> ### **å…³é”®åŒºåˆ«**
> - **åŠ æ³•åŸç†**ï¼šäº‹ä»¶ä¹‹é—´**äº’æ–¥**ï¼ˆåªèƒ½é€‰ä¸€ç§ï¼‰ã€‚
> - **ä¹˜æ³•åŸç†**ï¼šæ­¥éª¤ä¹‹é—´**ç‹¬ç«‹**ï¼ˆéœ€ä¾æ¬¡å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼‰ã€‚
>
> ---
>
> ### **ç®—æ³•ç«èµ›ä¸­çš„å…¸å‹åº”ç”¨**
> - **åŠ æ³•åŸç†**ï¼šåˆ†ç±»è®¨è®ºä¸åŒæƒ…å†µï¼ˆå¦‚åŠ¨æ€è§„åˆ’ä¸­çš„çŠ¶æ€è½¬ç§»ï¼‰ã€‚
> - **ä¹˜æ³•åŸç†**ï¼šæ’åˆ—ç»„åˆé—®é¢˜ï¼ˆå¦‚è·¯å¾„è®¡æ•°ã€æ’åˆ—æ•°è®¡ç®—ï¼‰ã€‚
>
> **ç¤ºä¾‹é¢˜**ï¼š  
> ä»1~100ä¸­é€‰ä¸€ä¸ªæ•°ï¼Œè¦æ±‚æ˜¯3çš„å€æ•° **æˆ–** 5çš„å€æ•°ï¼Œå…±æœ‰å¤šå°‘ç§é€‰æ‹©ï¼Ÿ  
> - **åŠ æ³•åŸç†**ï¼š3çš„å€æ•°æœ‰33ä¸ªï¼Œ5çš„å€æ•°æœ‰20ä¸ªï¼Œä½†éœ€æ‰£é™¤é‡å¤ï¼ˆ15çš„å€æ•°ï¼Œå…±6ä¸ªï¼‰ã€‚  
>   æ€»æ•°ä¸º \(33 + 20 - 6 = 47\) ç§ï¼ˆç»“åˆå®¹æ–¥åŸç†ï¼‰ã€‚
>
> ---
>
> æŒæ¡è¿™ä¸¤ä¸ªåŸç†ï¼Œèƒ½é«˜æ•ˆè§£å†³å¤§éƒ¨åˆ†ç»„åˆè®¡æ•°é—®é¢˜ï¼



### (2)æ’åˆ—æ•°ä¸ç»„åˆæ•°

![image-20250327221816916](assets/image-20250327221816916.png)

![image-20250327221829602](assets/image-20250327221829602.png)

> å…¶ä¸­ç»„åˆæ•°çš„å…¬å¼å…¶å®æ˜¯å¯ä»¥ä»æ’åˆ—æ•°å½“ä¸­æ¨å¯¼è€Œæ¥ï¼Œåªä¸è¿‡åœ¨å…¶åŸºç¡€ä¸Šå†é™¤äº†ä¸€ä¸ªm!.



### (3)å¸¸ç”¨çš„æ’ç­‰å¼

#### ï¼ˆaï¼‰æ’ç­‰å¼1

ç»„åˆæ•°æœ‰ä¸€ä¸ªåŸºæœ¬çš„é€’æ¨å¼(**å¾ˆé‡è¦ï¼Œç®—æ˜¯æ¨è¾‰ä¸‰è§’çš„åŸºç¡€ã€‚**)ï¼š
$$
C(n, m) = C(n-1,m) + C(n-1,m-1)
$$

> ç»„åˆæ•°å­¦ä¸­ï¼Œç»„åˆæ•° $C(n, m) = C(n-1, m) + C(n-1, m-1)$ çš„è¯æ˜åŠä¸æ¨è¾‰ä¸‰è§’çš„å…³ç³»å¯å½¢è±¡è§£é‡Šå¦‚ä¸‹ï¼š
>
> ------
>
> ### **1. å½¢è±¡è¯æ˜ï¼šæ˜¯å¦åŒ…å«æŸä¸ªç‰¹å®šå…ƒç´ **
>
> å‡è®¾ä» $n$ ä¸ªå…ƒç´ ä¸­é€‰ $m$ ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥å›ºå®šå…¶ä¸­ä¸€ä¸ªå…ƒç´ ï¼ˆä¾‹å¦‚ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå°†æ‰€æœ‰æƒ…å†µåˆ†ä¸ºä¸¤ç±»ï¼š
>
> - **åŒ…å«è¯¥å…ƒç´ **ï¼šéœ€ä»å‰©ä¸‹çš„ $n-1$ ä¸ªå…ƒç´ ä¸­å†é€‰ $m-1$ ä¸ªï¼Œå¯¹åº” $C(n-1, m-1)$ã€‚
> - **ä¸åŒ…å«è¯¥å…ƒç´ **ï¼šéœ€ä»å‰©ä¸‹çš„ $n-1$ ä¸ªå…ƒç´ ä¸­é€‰å…¨éƒ¨ $m$ ä¸ªï¼Œå¯¹åº” $C(n-1, m)$ã€‚
>
> **æ€»æ–¹æ³•æ•°** = åŒ…å«è¯¥å…ƒç´ çš„æ–¹æ³•æ•° + ä¸åŒ…å«è¯¥å…ƒç´ çš„æ–¹æ³•æ•°ï¼Œå³ï¼š
>
> $C(n, m) = C(n-1, m) + C(n-1, m-1) $
>
> #### **ç¤ºä¾‹éªŒè¯**
>
> å½“ $n=5, m=3$ æ—¶ï¼š
>
> $C(5,3) = C(4,3) + C(4,2) = 4 + 6 = 10 $
>
> ç›´æ¥è®¡ç®— $C(5,3) = \frac{5!}{3!2!} = 10$ï¼Œç»“æœä¸€è‡´ã€‚
>
> ------
>
> ### **2. ä¸æ¨è¾‰ä¸‰è§’çš„å…³ç³»**
>
> æ¨è¾‰ä¸‰è§’çš„æ„é€ è§„åˆ™æ˜¯ï¼š**æ¯ä¸ªæ•°ç­‰äºå®ƒä¸Šæ–¹å·¦å³ä¸¤æ•°ä¹‹å’Œ**ã€‚
>
> - ç¬¬ $n$ è¡Œç¬¬ $m$ åˆ—çš„æ•°å€¼å¯¹åº”ç»„åˆæ•° $C(n, m)$ã€‚
> - é€’æ¨å…¬å¼ $C(n, m) = C(n-1, m) + C(n-1, m-1)$ æ­£æ˜¯æ¨è¾‰ä¸‰è§’çš„ç”Ÿæˆè§„åˆ™ã€‚
>
> #### **ç¤ºä¾‹ï¼šæ¨è¾‰ä¸‰è§’å‰5è¡Œ**
>
> ```
> 1         (n=0)
> 1 1       (n=1)
> 1 2 1     (n=2)
> 1 3 3 1   (n=3)
> 1 4 6 4 1 (n=4)
> ```
>
> - ä¾‹å¦‚ï¼Œç¬¬4è¡Œï¼ˆ$n=4$ï¼‰çš„æ•°å€¼å¯¹åº”ï¼š
>   $C(4,0)=1, \, C(4,1)=4, \, C(4,2)=6, \, C(4,3)=4, \, C(4,4)=1$ã€‚
>
> ------
>
> ### **3. æ•°å­¦å½’çº³æ³•è¡¥å……è¯æ˜**
>
> - **åŸºç¡€æƒ…å†µ**ï¼šå½“ $n=1$ï¼Œ$C(1,0)=1$ï¼Œ$C(1,1)=1$ï¼Œæ»¡è¶³é€’æ¨å…³ç³»ã€‚
>
> - **å½’çº³å‡è®¾**ï¼šå‡è®¾å¯¹ $n=k$ æˆç«‹ï¼Œå³ $C(k, m) = C(k-1, m) + C(k-1, m-1)$ã€‚
>
> - å½’çº³æ­¥éª¤ï¼šå¯¹ n=k+1n=k+1n=k+1ï¼Œæ ¹æ®å®šä¹‰ï¼š
>
>   $C(k+1, m) = \frac{(k+1)!}{m!(k+1-m)!} = \frac{k!}{m!(k-m)!} \cdot \frac{k+1}{k+1-m} + \frac{k!}{(m-1)!(k+1-m)!} $
>
>   åŒ–ç®€åä»æ»¡è¶³é€’æ¨å…³ç³»ã€‚
>
> ------
>
> ### **æ€»ç»“**
>
> - **æ ¸å¿ƒæ€æƒ³**ï¼šåˆ†ç±»è®¨è®ºæ˜¯å¦åŒ…å«ç‰¹å®šå…ƒç´ ï¼Œç©·å°½æ‰€æœ‰å¯èƒ½æ€§ã€‚
>- **æ¨è¾‰ä¸‰è§’**ï¼šç»„åˆæ•°çš„é€’æ¨å…³ç³»ç›´æ¥å¯¹åº”å…¶ç”Ÿæˆè§„åˆ™ï¼Œä¸¤è€…æœ¬è´¨ä¸€è‡´ã€‚
> 
>è¯¥åŸç†æ˜¯åŠ¨æ€è§„åˆ’ã€äºŒé¡¹å¼å®šç†ç­‰ç®—æ³•çš„ç†è®ºåŸºç¡€ï¼Œä¹Ÿæ˜¯ç»„åˆæ•°å­¦çš„æ ¸å¿ƒå…¬å¼ä¹‹ä¸€ã€‚



#### ï¼ˆbï¼‰æ’ç­‰å¼2

$$
C(n,0)+C(n,1)+C(n,2)+...+C(n,n) = 2^n
$$

è¯æ˜æ€è·¯æ¯”è¾ƒé‡è¦ï¼šâ€œä¸¤è¾¹ç®—â€ã€‚å·¦å³ä¸¤è¾¹éƒ½å¯ä»¥çœ‹ä½œæ˜¯ä»nä¸ªæ•°é‡Œé¢åšä»»æ„å¤šçš„é€‰æ‹©ï¼š

- å·¦ä¾§ï¼šé€‰0ä¸ªæ•°ï¼Œé€‰1ä¸ªæ•°ï¼Œé€‰2ä¸ªæ•°ã€‚ã€‚ã€‚ã€‚é€‰nä¸ªæ•°çš„æ€»çš„æ–¹æ¡ˆæ•°
- å³ä¾§ï¼šæ¯ä¸ªæ•°éƒ½å¯ä»¥é€‰ï¼Œæˆ–è€…ä¸é€‰ï¼Œæ€»çš„æ–¹æ¡ˆæ•°

è¿™æ ·çš„è¯ï¼Œç­‰å·æˆç«‹å°±å¾ˆå¥½ç†è§£äº†ã€‚



### ä¾‹é¢˜

- 6äººç«™æˆä¸€æ’ï¼Œæ±‚ï¼š

  - 1. ç”²ä¸åœ¨æ’å¤´ï¼Œä¹™ä¸åœ¨æ’å°¾çš„æ’åˆ—æ•°ï¼›

    > ä¼˜å…ˆè€ƒè™‘ç‰¹æ®Šä½ç½®ã€‚æ¯”è¾ƒå¥½çš„åšæ³•æ˜¯ç”»æ–¹å—æ³•ã€‚åˆ†ä¸ºä¹™åœ¨æ’å¤´å’Œä¹™ä¸åœ¨æ’å¤´ä¸¤ç§æƒ…å†µï¼š
    >
    > - ä¹™åœ¨æ’å¤´ï¼š5!
    > - ä¹™ä¸åœ¨æ’å¤´ï¼š`4ï¼ˆä¹™çš„ä½ç½®ï¼‰X 4(ç”²çš„ä½ç½®) X 4ï¼ï¼ˆå‰©ä¸‹çš„äººï¼‰`
    >
    > åŠ ä¸€èµ·å³å¯ã€‚ä¹Ÿå¯ä»¥ç”¨å®¹æ–¥åŸç†æ¥åšï¼š6ï¼-5ï¼-5ï¼+4ï¼ï¼ˆæ€»çš„æ–¹æ¡ˆæ•°-ç”²åœ¨æ’å¤´-ä¹™åœ¨æ’å°¾+ç”²åœ¨æ’å¤´ä¸”ä¹™åœ¨æ’å°¾ï¼‰

  - 2. ç”²ä¸åœ¨æ’å¤´ï¼Œä¹™ä¸åœ¨æ’å°¾ï¼Œå¹¶ä¸”ç”²ä¹™ä¸ç›¸é‚»çš„æ’åˆ—æ•°ï¼›

    > åˆ†ç±»è®¨è®ºï¼š
    >
    > - ç”²åœ¨æ’å°¾ï¼Œä¹™åœ¨æ’å¤´ï¼š4ï¼
    > - ç”²åœ¨æ’å°¾ï¼Œä¹™ä¸åœ¨æ’å¤´ï¼š3X4ï¼
    > - ç”²ä¸åœ¨æ’å°¾ï¼Œä¹™åœ¨æ’å¤´ï¼š3X4!ï¼ˆå¯¹ç§°çš„ï¼‰
    > - ç”²ä¸åœ¨æ’å°¾ï¼Œä¹™ä¸åœ¨æ’å¤´ï¼š4ï¼ˆç”²çš„é€‰æ‹©ï¼‰X ä¹™çš„é€‰æ‹©â€”â€”ï¼ˆç”²åœ¨2ï¼š2X4ï¼ + ç”²åœ¨3ï¼š4! +ç”²åœ¨4ï¼š4ï¼+ç”²åœ¨5ï¼š2X4ï¼ï¼‰

ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†æƒ…å†µè®¨è®ºçš„æƒ…å†µä½¿ç”¨åŠ æ³•åŸç†ã€‚



## 2.æ†ç»‘ä¸æ’ç©ºæ³•

